(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[10],{1574:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(43),l=n(1),i=n(6),u=n.n(i);t.a=c.a.memo((function(e){var t=e.name,n=e.title,a=void 0===n?"":n,i=e.icon,o=e.onClick,s=e.active,m=e.isHoverCircle,f=void 0===m||m,b=e.tooltipContent,d=e.tooltipClassName,E=void 0===d?"":d,O=e.tooltipVisible,v=e.disabledTootip,j=e.disabled,p=e.className||"btn-".concat(t);return c.a.createElement(l.O,{content:b||a,disabled:v,hideOnClick:!1,className:E,visible:O},c.a.createElement(r.b,{className:u()("zm-tooltip-btn",p,{"is-hover-circle":f,"is-active":s}),onClick:o,title:a,icon:i||t,disabled:j}))}))},1581:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return p}));var a=n(12),c=n.n(a),r=n(22),l=n(8),i=n(0),u=n.n(i),o=n(5),s=n(26),m=n(125),f=n(27),b=n(18),d=n(1574),E=Object(i.memo)((function(e){var t=e.id,n=e.thumbnail,a=Object(o.c)(f.l);return u.a.createElement(v,{id:t,thumbnail:n,isPlaying:a})})),O=Object(i.memo)((function(e){var t=e.id,n=e.thumbnail,a=Object(o.c)(m.i);return u.a.createElement(v,{id:t,thumbnail:n,isPlaying:a})})),v=function(e){var t=e.id,n=e.thumbnail,a=e.isPlaying,o=Object(i.useRef)(document.createElement("video")),m=Object(i.useRef)(a),f=Object(i.useRef)(!1);m.current=a;var E=Object(i.useState)(!1),O=Object(l.a)(E,2),v=O[0],j=O[1],p=Object(i.useMemo)((function(){return!document.pictureInPictureEnabled||o.current.disablePictureInPicture}),[]);Object(i.useEffect)((function(){if(!p){var e=function(){j(!0),f.current=!0,m.current||document.pictureInPictureElement.pause()},t=function(){return j(!1)};return o.current.addEventListener("enterpictureinpicture",e),o.current.addEventListener("leavepictureinpicture",t),function(){o.current.removeEventListener("enterpictureinpicture",e),o.current.removeEventListener("leavepictureinpicture",t)}}}),[]),Object(i.useEffect)((function(){document.pictureInPictureElement&&(a?document.pictureInPictureElement.play():document.pictureInPictureElement.pause())}),[a]),Object(i.useEffect)((function(){if(document.pictureInPictureElement){if(!f.current){var e=setInterval((function(){m.current&&(g(),clearInterval(e))}),100);return function(){return clearInterval(e)}}g()}}),[t]);var g=function(){var e=Object(r.a)(c.a.mark((function e(){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(a=document.createElement("canvas")).width=a.height=512,o.current.srcObject=a.captureStream(),o.current.muted=!0,(r=new Image).crossOrigin=!0,r.src=n.replace("w240","w480"),e.next=12,r.decode();case 12:return a.getContext("2d").drawImage(r,0,0,512,512),e.next=15,o.current.play();case 15:return e.next=17,o.current.requestPictureInPicture();case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}(),h=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.pictureInPictureElement?document.exitPictureInPicture():(g(),Object(b.a)(s.a.PLAYER,"player_pip"));case 1:case"end":return e.stop()}}),e)}))),[t]);return p?null:u.a.createElement(d.a,{name:"restore",title:"Ch\u1ebf \u0111\u1ed9 c\u1eeda s\u1ed5",active:v,onClick:h})},j=function(){if(document.pictureInPictureElement)return setTimeout((function(){document.exitPictureInPicture()}),200)},p=function(){document.pictureInPictureElement&&document.exitPictureInPicture()};Object(i.memo)(E)},1592:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()/1e3},c=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.setHours(24),e.getTime()/1e3},r=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},l=function(e){return new Date(1e3*e).getHours()}},1598:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(1),l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function u(e,t,n,a,c){var r=e.naturalWidth,u=e.naturalHeight;t.style.width=a+"px",t.style.height=c+"px",t.width=a,t.height=c;var o=t.getContext("2d");o.clearRect(0,0,a,c);var s=1,m=r/(s=r/a>u/c?u/c:r/a),f=u/s;try{o.drawImage(e,Math.floor((m-a)/-2),Math.floor((f-c)/-2),Math.ceil(m),Math.ceil(f))}catch(b){console.error("There was a problem drawing the image. "+b)}isNaN(n)||n<1||function(e,t,n,a,c,r){if(isNaN(r)||r<1)return;r|=0;var u,o=e.getContext("2d");try{u=o.getImageData(t,n,a,c)}catch(b){throw new Error("unable to access image data: "+b)}var s,m,f,d,E,O,v,j,p,g,h,y,N,R,A,k,C,I,T,P,L,_,S,w=u.data,x=r+r+1,M=a-1,D=c-1,U=r+1,q=U*(U+1)/2,F={r:0,g:0,b:0,a:0,next:null},Y=F;for(f=1;f<x;f++)Y=Y.next={r:0,g:0,b:0,a:0,next:null},f==U&&(L=Y);Y.next=F,v=O=0;var B=l[r],z=i[r];for(m=0;m<c;m++){for(R=A=k=j=p=g=0,h=U*(C=w[O]),y=U*(I=w[O+1]),N=U*(T=w[O+2]),j+=q*C,p+=q*I,g+=q*T,Y=F,f=0;f<U;f++)Y.r=C,Y.g=I,Y.b=T,Y=Y.next;for(f=1;f<U;f++)d=O+((M<f?M:f)<<2),j+=(Y.r=C=w[d])*(P=U-f),p+=(Y.g=I=w[d+1])*P,g+=(Y.b=T=w[d+2])*P,R+=C,A+=I,k+=T,Y=Y.next;for(_=F,S=L,s=0;s<a;s++)w[O]=j*B>>z,w[O+1]=p*B>>z,w[O+2]=g*B>>z,j-=h,p-=y,g-=N,h-=_.r,y-=_.g,N-=_.b,d=v+((d=s+r+1)<M?d:M)<<2,R+=_.r=w[d],A+=_.g=w[d+1],k+=_.b=w[d+2],j+=R,p+=A,g+=k,_=_.next,h+=C=S.r,y+=I=S.g,N+=T=S.b,R-=C,A-=I,k-=T,S=S.next,O+=4;v+=a}for(s=0;s<a;s++){for(A=k=R=p=g=j=0,h=U*(C=w[O=s<<2]),y=U*(I=w[O+1]),N=U*(T=w[O+2]),j+=q*C,p+=q*I,g+=q*T,Y=F,f=0;f<U;f++)Y.r=C,Y.g=I,Y.b=T,Y=Y.next;for(E=a,f=1;f<=r;f++)O=E+s<<2,j+=(Y.r=C=w[O])*(P=U-f),p+=(Y.g=I=w[O+1])*P,g+=(Y.b=T=w[O+2])*P,R+=C,A+=I,k+=T,Y=Y.next,f<D&&(E+=a);for(O=s,_=F,S=L,m=0;m<c;m++)w[d=O<<2]=j*B>>z,w[d+1]=p*B>>z,w[d+2]=g*B>>z,j-=h,p-=y,g-=N,h-=_.r,y-=_.g,N-=_.b,d=s+((d=m+U)<D?d:D)*a<<2,j+=R+=_.r=w[d],p+=A+=_.g=w[d+1],g+=k+=_.b=w[d+2],_=_.next,h+=C=S.r,y+=I=S.g,N+=T=S.b,R-=C,A-=I,k-=T,S=S.next,O+=a}o.putImageData(u,t,n)}(t,0,0,a,c,n)}n.d(t,"a",(function(){return o}));var o=function(e){var t,n=e.blurRadius,l=void 0===n?0:n,i=e.children,o=e.image,s=Object(a.useRef)();Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){t?f(o)?t.src=o:u(t,s.current,l,window.innerWidth,window.innerHeight):m()}),[o]);var m=function(){f(o)?s.current&&u(t,s.current,l,window.innerWidth,window.innerHeight):((t=new Image).crossOrigin="Anonymous",t.onload=function(e){s.current&&u(t,s.current,l,window.innerWidth,window.innerHeight)},t.src=o)},f=function(e){if(t){var n=new Image;return n.src=e,n.src===o.src}return!1};return c.a.createElement(r.l,{className:"video-blur-image"},c.a.createElement("canvas",{className:"react-blur-canvas",ref:s}),i)};Object(a.memo)(o)},1599:function(e,t,n){"use strict";var a=n(2),c=n(13),r="/search/multi",l="/search",i="/search/getCounter",u={FEATURED:"".concat(a.a,"/featured")},o={multi:function(e,t){return Object(c.d)(r,{q:e,allowCorrect:t})},search:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";return Object(c.d)(l,{q:t,type:e,page:n,count:18,allowCorrect:a})},getCounter:function(e){return Object(c.d)(i,{q:e})},featured:function(e,t){return Object(c.e)(u.FEATURED,{query:e,allowCorrect:t},{credentials:"include"})}};t.a=o},1603:function(e,t,n){"use strict";var a=n(8),c=n(0),r=n.n(c),l=n(1),i=n(6),u=n.n(i),o=n(28);n(1604);t.a=Object(c.memo)((function(e){var t=e.images,n=e.isPlay,i=void 0!==n&&n,s=e.timeout,m=void 0===s?10:s,f=e.shuffle,b=void 0===f||f,d=e.once,E=e.className,O=Object(c.useState)(0),v=Object(a.a)(O,2),j=v[0],p=v[1],g=Object(c.useMemo)((function(){return b?o.Array.shuffle(t):t}),[t]),h=Object(c.useRef)(j),y=Object(c.useRef)(!d);h.current=j,Object(c.useEffect)((function(){if(i&&!d){var e=setTimeout((function(){p(j===g.length-1?0:j+1)}),1e3*m);return function(){return clearTimeout(e)}}}),[g,j,i,d]),Object(c.useEffect)((function(){i&&d&&(y.current=!0,p(j===g.length-1?0:j+1))}),[i]);var N=Object(c.useMemo)((function(){return j<=0?[g[g.length-1],g[0]]:[g[j-1],g[j]]}),[g,j]);return r.a.createElement(l.l,{className:u()("image-effect",E,{"is-play":i})},r.a.createElement(l.l,{renderAs:"ul"},N.map((function(e,t){var n=t===N.length-1;return r.a.createElement(l.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:u()({enter:!!y.current&&n,exit:!!y.current&&!n})},r.a.createElement(l.l,{renderAs:"img",src:e}))}))))}))},1604:function(e,t,n){},1606:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1628:function(e,t,n){},1645:function(e,t,n){},1647:function(e,t,n){},1698:function(e,t,n){},1699:function(e,t,n){},1700:function(e,t,n){},1701:function(e,t,n){},1702:function(e,t,n){},1703:function(e,t,n){},1704:function(e,t,n){},1705:function(e,t,n){},1706:function(e,t,n){},1707:function(e,t,n){},1708:function(e,t,n){},1709:function(e,t,n){},1710:function(e,t,n){},1711:function(e,t,n){},1712:function(e,t,n){},1713:function(e,t,n){},1714:function(e,t,n){},1715:function(e,t,n){},1716:function(e,t,n){},1717:function(e,t,n){},1718:function(e,t,n){},1719:function(e,t,n){},1720:function(e,t,n){},1721:function(e,t,n){},1722:function(e,t,n){},1723:function(e,t,n){},1724:function(e,t,n){},1725:function(e,t,n){},1726:function(e,t,n){},1727:function(e,t,n){},1816:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(0),r=n.n(c),l=n(5),i=n(653),u=n(1),o=n(98),s=n(10),m=n(226),f=n(121),b=n(6),d=n.n(b),E=n(141),O=n(18),v=Object(c.memo)((function(e){var t=e.advertiser,n=e.companions||{},a=n.htmlResources,c=void 0===a?[]:a,l=n.staticResources,i=n.clickThroughs,o=void 0===i?[]:i,s=n.clickTrackings,m=void 0===s?[]:s,f=c.length?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c[0]}}):r.a.createElement("img",{src:l[0]}),b=function(){m.forEach((function(e){Object(O.l)(e,{})}))};return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.l,{renderAs:"a",href:o[0],target:"_blank",onClick:b},r.a.createElement(u.l,{className:"thumb"},r.a.createElement("figure",{className:"image is-60x60"},f)))),r.a.createElement(u.A.Content,null,r.a.createElement(u.y.Side,{align:"left",className:"is-mark"},r.a.createElement(u.l,{className:"song-info-wrapper"},r.a.createElement(u.l,{className:"item-title title",renderAs:"a",href:o[0],target:"_blank",onClick:b},t.title))),r.a.createElement(u.M,{subtitle:!0},t.description)))))})),j=n(2),p=n(23),g=n(27),h="AD_PLAYER_META_LOADED",y="AD_PLAYER_PLAY",N="AD_PLAYER_PAUSE",R="AD_PLAYER_ENDED",A="AD_PLAYER_PROGRESSING",k="AD_PLAYER_ERROR",C="AD_PLAYER_MUTED",I=function(e){var t=e.source,n=e.playerRef,a=Object(l.b)(),i=Object(l.c)(g.r),u=Object(c.useRef)(0===i);Object(c.useEffect)((function(){n.current&&(n.current.volume=i/100)}),[i]);return r.a.createElement("audio",{ref:n,src:t.uri,autoPlay:!0,onLoadedMetadata:function(){var e;p.a.emit(h,null===(e=n.current)||void 0===e?void 0:e.duration),a(Object(O.c)(j.kb.SERVED))},onPlay:function(){p.a.emit(y)},onPause:function(){p.a.emit(N)},onEnded:function(){p.a.emit(p.b.PROMOTION_ZONE_TRIGGER,j.V.END_PLAYING_ADS_AUDIO),p.a.emit(R)},onTimeUpdate:function(){var e,t;p.a.emit(A,{currentTime:null===(e=n.current)||void 0===e?void 0:e.currentTime,duration:null===(t=n.current)||void 0===t?void 0:t.duration})},onVolumeChange:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.volume,a=u.current;u.current=0===t,a!==u.current&&p.a.emit(C,u.current)},onError:function(e){p.a.emit(k,e)}})},T=Object(c.memo)((function(e){var t=e.togglePlayFn,n=Object(c.useState)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1];Object(c.useEffect)((function(){return p.a.on(y,s),p.a.on(N,m),function(){p.a.off(y,s),p.a.off(N,m)}}),[]);var s=function(){o(!0)},m=function(){o(!1)};return r.a.createElement(u.r,{className:"btn-play zm-tooltip-btn",icon:"".concat(i?"pause-circle-outline":"play-circle-outline"),onClick:t})})),P=n(225),L=n(7),_=Object(c.memo)((function(e){var t=e.impressions,n=e.trackingEvents,i=e.pauseFn,o=Object(l.b)(),s=Object(l.c)(g.f),f=Object(c.useState)(0),b=Object(a.a)(f,2),d=b[0],E=b[1],v=Object(c.useState)(0),I=Object(a.a)(v,2),T=I[0],_=I[1],S=Object(c.useRef)({});Object(c.useEffect)((function(){var e=function(e){E(e)},n=function(e){var n=e.currentTime,a=e.duration;_(n),S.current.start||(t.forEach((function(e){return Object(O.l)(e.uri,{})})),w("start"),w("creativeView"),S.current.start=!0),S.current.firstQuartile||n>a/4&&(w("firstQuartile"),S.current.firstQuartile=!0),S.current.midpoint||n>a/2&&(w("midpoint"),S.current.midpoint=!0),S.current.thirdQuartile||n>.75*a&&(w("thirdQuartile"),S.current.thirdQuartile=!0)},a=function(){w("pause")},c=function(){w("resume")},r=function(){S.current.complete=!0,w("complete"),o(Object(m.b)())},l=function(e){w(e?"mute":"unmute")},i=function(e){L.q.error(0,"Audio Ad | Play Error",e),o(Object(m.b)())},u=function(){S.current.forceSkip||s.pause()};return s.on(j.Q.PLAYER_PLAY,u),p.a.once(h,e),p.a.on(A,n),p.a.on(y,c),p.a.on(N,a),p.a.on(C,l),p.a.once(R,r),p.a.once(k,i),function(){S.current.complete||(o(Object(m.b)()),w("skip")),s.off(j.Q.PLAYER_PLAY,u),S.current.forceSkip||s.play(),p.a.off(h,e),p.a.off(A,n),p.a.off(y,c),p.a.off(N,a),p.a.off(C,l),p.a.off(R,r),p.a.off(k,i)}}),[s]),Object(c.useEffect)((function(){p.a.once(p.b.ALARM_OVER_EVENT,(function(){S.current.forceSkip=!0,i(),o(Object(m.b)())}))}),[]);var w=function(e){n.filter((function(t){return t.event===e})).forEach((function(e){return Object(O.l)(e.uri,{})}))};return r.a.createElement(u.l,{className:"level-item mar-b-5"},r.a.createElement(u.l,{renderAs:"span",className:"time left"},L.f.formatTime(T)),r.a.createElement(u.H,{min:0,max:1,value:T/d,onChange:function(){},className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"rgba(255, 255, 255, 0.3)",activeColor:"yellow",direction:P.Direction.Right}),r.a.createElement(u.l,{renderAs:"span",className:"time right"},L.f.formatTime(d)))})),S=function(e){var t=e.source,n=e.impressions,a=e.trackingEvents,l=Object(c.useRef)(null);return r.a.createElement(u.y.Side,{align:"center",className:"player-controls__player-bar"},r.a.createElement(u.y.Item,null,r.a.createElement(u.r,{icon:"repeat",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(u.r,{icon:"pre",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(T,{togglePlayFn:function(){l.current&&(l.current.paused?l.current.play():l.current.pause())}}),r.a.createElement(u.r,{icon:"next",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(u.r,{icon:"shuffle",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(_,{impressions:n,trackingEvents:a,pauseFn:function(){l.current&&l.current.pause()}}),r.a.createElement(I,{source:t,playerRef:l}))},w=n(36),x=n(1574),M=(n(1698),r.a.memo((function(){var e,t=Object(s.C)(),n=Object(a.a)(t,1)[0],i=[window.ZMP3_PLAYER,window.ZMP3_PLAYER_2],o=Object(l.c)(g.f),m=Object(l.c)(g.r),f=Object(c.useState)(!1),b=Object(a.a)(f,2),d=b[0],E=b[1],O=Object(c.useState)(!1),v=Object(a.a)(O,2),h=v[0],y=v[1],N=Object(c.useRef)(m||(null===(e=w.a.get(j.A.NP_PLAYER))||void 0===e?void 0:e.volume)||100),R=Object(c.useCallback)((function(e,t){i.forEach((function(n){return n[e](t)}))}),[]),A=Object(c.useCallback)((function(e){n.volumeUpdate(e)}),[]),k=Object(c.useCallback)((function(){E(!1),y(!1)}),[d]),C=Object(c.useCallback)((function(){E(!0),y(!0)}),[d,y,h]),I=Object(c.useCallback)((function(e){var t=-e.deltaX||-e.detail||0,n=-e.deltaY||-e.detail||0,a=Math.abs(t)>Math.abs(n)?t:n,c=m+.2*a;A(Math.min(Math.max(c,0),100))}),[m]);return Object(c.useEffect)((function(){p.c.emit(p.b.PLAYER_UPDATE_VOLUME,m),R("setVolume",m),m&&(N.current=m)}),[m]),r.a.createElement(u.l,{className:"zm-player-volume",onMouseLeave:k,onMouseEnter:C,onWheel:I},r.a.createElement(x.a,{name:"volume",title:"\xc2m l\u01b0\u1ee3ng",disabledTootip:!0,icon:"volume".concat(0===m?"-mute":""),onClick:function(){o.isMuted()?(R("unmute",!0),n.volumeUpdate(N.current)):(R("mute",!0),n.volumeUpdate(0))}}),r.a.createElement(u.H,{onChange:A,min:0,max:100,value:m,direction:P.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle"}))}))),D=Object(c.memo)((function(){return r.a.createElement(u.y.Side,{align:"right",className:"player-controls-right"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"mv",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"karaoke",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.l,{className:"quality-button"},r.a.createElement(u.r,{icon:"",disabled:!0,className:"quality-name",text:"HQ"}))),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(M,null)),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.l,{renderAs:"span",className:"divide"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"list-music",disabled:!0,className:j.o.QUEUE_EXPAND_BUTTON})))})),U=function(){var e=Object(l.c)(f.d),t=Object(l.c)(E.e);return r.a.createElement(u.l,{className:d()("player-controls advertising",{opac:t})},r.a.createElement(u.l,{className:"level player-controls__container"},r.a.createElement(v,{advertiser:e.advertiser,companions:e.companions}),r.a.createElement(S,{source:e.source,impressions:e.impressions,trackingEvents:e.trackingEvents}),r.a.createElement(D,null)))},q=(n(1699),function(){var e=Object(l.b)(),t=Object(l.c)(f.c),n=Object(l.c)(f.h);return Object(c.useEffect)((function(){t>0&&e(Object(m.c)())}),[t]),n?r.a.createElement(U,null):r.a.createElement(r.a.Fragment,null)}),F=n(151),Y=n(281),B=n(11),z=n(17),Q=Object(c.memo)((function(){var e=Object(c.useRef)(null),t=Object(l.b)(),n=Object(s.C)(),i=Object(a.a)(n,1)[0],u=Object(l.c)(g.f),m=Object(l.c)(Y.b),b=m.link,d=m.isPlaying,E=m.id,v=m.campaignKey,h=Object(l.c)(g.r),y=Object(l.c)(B.l),N=Object(l.c)(z.d),R=Object(l.c)(f.h),A=Object(c.useRef)({startTime:0,timeout:void 0});Object(c.useEffect)((function(){R&&e.current&&e.current.pause()}),[R]);var k=Object(c.useCallback)((function(e){var n;(null===N||void 0===N?void 0:N.encodeId)&&t(Object(O.b)({id:E,action:e,media_id:N.encodeId,src_play:N.sectionId||(null===(n=N.currentPlaylist)||void 0===n?void 0:n.sectionId)||j.bb,campaign_key:v},j.z.BUMPER_AUDIO))}),[E,N]);Object(c.useEffect)((function(){d&&y&&(t(Object(F.c)()),null===u||void 0===u||u.seek(0))}),[d,y]);var C=Object(c.useCallback)((function(){e.current&&(e.current.volume=h/100)}),[h]);Object(c.useEffect)((function(){C()}),[C]);var I=function(){t(Object(F.c)()),i.playNextSong(!1)},T=function(){A.current.timeout&&clearTimeout(A.current.timeout)};return!d||!b||y||R?null:r.a.createElement("audio",{ref:e,src:b,autoPlay:!0,onPlay:function(){k(1),C()},onEnded:function(){p.c.emit(p.b.PROMOTION_ZONE_TRIGGER,j.V.END_PLAYING_ADS_AUDIO),k(2),I()},onError:function(e){console.log("==> Bumper Audio Error: "+b),console.log(e),L.q.errorCritical(j.t.CLIENT,"Bumper Audio Error: "+b),T(),k(3),I()},onLoadStart:function(){T(),A.current={startTime:Date.now(),timeout:setTimeout((function(){k(4),I()}),o.m)}},onLoadedData:function(){T()}})})),H=n(1822),V=n(88),G=n(49),W=(n(1700),n(1701),Object(c.memo)((function(e){var t=e.isPlaying,n=e.className,l=e.children,i=Object(c.useRef)(null),o=Object(c.useRef)(null),s=Object(c.useRef)(t),m=Object(c.useRef)(),f=Object(c.useRef)(),b=Object(c.useState)(!1),E=Object(a.a)(b,2),O=E[0],v=E[1],j=Object(c.useState)(void 0),p=Object(a.a)(j,2),g=p[0],h=p[1],y=Object(c.useState)(!1),N=Object(a.a)(y,2),R=N[0],A=N[1];s.current=t||R,Object(c.useEffect)((function(){var e=I();e>0?(v(!0),s.current&&!g&&k(e)):C()}),[l,s.current]),Object(c.useEffect)((function(){return function(){clearTimeout(m.current),clearTimeout(f.current)}}),[]);var k=function e(t){var n=Math.ceil(t/70);h({transform:"translateX(".concat(-t,"px)"),transition:"transform ".concat(n,"s linear ").concat(2,"s")}),m.current=setTimeout((function(){return h(void 0)}),1e3*(n+2+.5)),f.current=setTimeout((function(){s.current&&e(t)}),1e3*(n+2+5))},C=function(){v(!1),h(void 0),clearTimeout(m.current),clearTimeout(f.current)},I=function(){var e,t,n=(null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().width)||0,a=(null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0;return a>n?a:0};return r.a.createElement(u.l,{className:d()("zm-text-transition",n,{"is-transition":O}),domRef:i,onMouseEnter:function(){return A(!0)},onMouseLeave:function(){return A(!1)}},r.a.createElement(u.l,{className:"zm-text-transition-content",style:g},r.a.createElement(u.l,{renderAs:"span",domRef:o,className:"zm-text-transition-item"},l),O&&r.a.createElement(u.l,{renderAs:"span",className:"zm-text-transition-item"},l)))}))),Z=n(96);var K,X="init",J="start",$="seek",ee="play",te="pause",ne="resize",ae="clear";!function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){if(200===n.status){var e,a;e=new Blob([n.responseText],{type:"text/javascript"}),a=window.URL.createObjectURL(e);var c=new Worker(a);t(c)}},n.send()}(j.g+"/js/worker.js",(function(e){K=e}));var ce=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(E.n),a=Object(c.useMemo)((function(){return Object(L.j)()}),[]);return n.length&&a?r.a.createElement(re,{song:t,sentences:n}):r.a.createElement(u.l,{className:"fs-karaoke-empty"},"Karaoke \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt")})),re=function(e){var t=e.song,n=e.sentences,a=Object(l.c)(g.l),o=Object(l.c)(g.h),s=Object(c.useRef)(null),m=Object(i.a)().height,f=Object(l.c)(g.f),b=a&&!o;return Object(c.useEffect)((function(){var e,t=document.getElementById("karaoke-canvas").transferControlToOffscreen(),n=((null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,a=void 0===n?m:n;K.postMessage({canvas:t,type:X,height:a},[t]);var c=function(){K.postMessage({type:$,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0})};return f.on(j.Q.PLAYER_SEEKED,c),function(){K.postMessage({type:ae}),f.off(j.Q.PLAYER_SEEKED,c)}}),[f]),Object(c.useEffect)((function(){n.length&&K.postMessage({type:J,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0,sentences:n,song:t})}),[n,f]),Object(c.useEffect)((function(){K.postMessage({type:b?ee:te,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0})}),[b,f]),Object(c.useEffect)((function(){var e,t=((null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,n=void 0===t?m:t;K.postMessage({type:ne,height:n+80})}),[m]),r.a.createElement(u.l,{className:"fs-karaoke"},r.a.createElement(u.l,{className:"fs-karaoke-content",domRef:s},r.a.createElement("canvas",{id:"karaoke-canvas",height:"1000",width:"1500"})))},le=n(3),ie=n(15),ue=n(1684),oe=n(26),se=n(148),me=Object(c.memo)((function(e){var t=e.onClick,n=e.type,a=e.keyCode;return Object(c.useEffect)((function(){var e=function(e){e.keyCode===a&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]),r.a.createElement(u.r,{icon:"go-".concat(n),className:d()("arrow-btn",n),onClick:t})})),fe=n(32),be=n(175),de=n(60),Ee=Object(c.memo)((function(e){var t=e.active,n=e.item,c=e.isPlaying,l=e.left,i=e.width,o=e.centered,m=e.playFn,f={position:"absolute",left:l,width:i},b=n.thumbnailM.replace("w240","w480"),E=Object(s.C)(),O=Object(a.a)(E,1)[0],v=Object(de.g)();return r.a.createElement(u.e,{className:d()({active:t,centered:o}),style:f},r.a.createElement(u.e.Content,null,r.a.createElement(u.x,{src:b}),r.a.createElement(u.l,{className:"action"},!n.episode&&r.a.createElement(fe.e,{className:"action-btn",objectType:j.N.SONG,objectId:n.encodeId,object:n,disableAnimation:!0}),r.a.createElement(u.r,{className:"",classNameIcon:"action-play",icon:c?"pause-circle-outline":"play-circle-outline",onClick:function(){return m(n,{isClearQueue:!1})}}),!n.episode&&r.a.createElement(u.P,{className:d()("action-btn",{hide:!(null===n||void 0===n?void 0:n.radioId)}),icon:"radio",title:"Ph\xe1t Radio c\u1ee7a b\xe0i h\xe1t",onClick:function(){(null===n||void 0===n?void 0:n.radioId)&&be.PlaylistService.getDetail(null===n||void 0===n?void 0:n.radioId).then((function(e){e.data&&e.data.song&&e.data.song.items&&(O.playPlaylist(e.data,{forcePlay:!0}),v.push(e.data.link))})).catch((function(e){}))}})),t&&c&&r.a.createElement(u.q,{icon:"gif-playing-white",className:"playing-icon"})),r.a.createElement(u.l,{className:"meta-info"},r.a.createElement(u.M,null,n.title),r.a.createElement(u.M,{subtitle:!0},n.artistsNames)))})),Oe=(n(1702),Object(c.memo)((function(e){var t=e.moveToHero,n=Object(ue.a)(4e3);return Object(c.useEffect)((function(){n&&t()}),[t,n]),r.a.createElement(r.a.Fragment,null)}))),ve=Object(c.memo)((function(){var e=Object(l.c)(z.t),t=Object(l.c)(z.k),n=Object(l.c)(z.c),i=Object(l.c)(g.l),o=Object(l.c)(g.h),m=Object(l.c)(z.w),f=Object(c.useMemo)((function(){return m.length?[].concat(Object(ie.a)(t),["recommendID"]):t}),[m.length>0,t]),b=Object(c.useMemo)((function(){return f.indexOf(n)}),[f,n]),d=Object(c.useState)({}),E=Object(a.a)(d,2),v=E[0],j=E[1],p=Object(c.useState)(b),h=Object(a.a)(p,2),y=h[0],N=h[1],R=Object(c.useRef)(),A=Object(c.useRef)({length:0,width:0,distance:0,moved:!1,centeredIndex:b}),k=Object(c.useRef)((function(){})),C=Object(s.C)(),I=Object(a.a)(C,1)[0];Object(c.useEffect)((function(){var e,t=((null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;A.current.width=n,A.current.length=360*(f.length-1)+430}),[f]),Object(c.useEffect)((function(){var e=A.current.moved;k.current=function(){return P(T(y),y,e)},k.current()}),[y]),Object(c.useEffect)((function(){b===y&&P(T(y),y,!1),N(b)}),[b]),Object(c.useEffect)((function(){Object(O.a)(oe.a.PLAYER,"player_fullscreen");var e=function(){var e,t=((null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;A.current.width=n,k.current()};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(c.useEffect)((function(){var t=function(t){if(t.keyCode===se.a.ENTER){t.preventDefault();var n=f[A.current.centeredIndex],a=e[n]||m[0];I.playSong(a,{isClearQueue:!1})}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[f,e,m]);var T=function(e){var t=360*e;return t+=e===b?215:e<b?180:250,A.current.width/2-t},P=Object(c.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];A.current.distance=e,A.current.moved=!0,A.current.centeredIndex=t;var a={transform:"translateX(".concat(e,"px)"),transition:n?"linear 0.5s":void 0};j(a)}),[]),L=Object(c.useCallback)((function(){N(b)}),[b]),_=function(){return y>0},S=function(){return y<f.length-1},w=360*(f.length-1)+430,x=A.current.centeredIndex,M=x+4,D=x-4>0?x-4:0,U=Object(c.useMemo)((function(){return f.slice(D,M)}),[f,D,M]);return r.a.createElement(u.l,{className:"fs-media-list",domRef:R},r.a.createElement(u.l,{className:"list-wrapper"},r.a.createElement(u.l,{className:"list",style:Object(le.a)({position:"relative",height:360,width:w},v)},U.map((function(t,n){var a=n+D,c=e[t]||m[0],l=a===b,u=y===a,s=i&&l,f=o&&l,d=a>b?360*(a-1)+430:360*a;return r.a.createElement(Ee,{key:"".concat(t,"-").concat(c.encodeId),item:c,active:l,centered:u,isPlaying:s,isBuffering:f,left:d,width:l?430:360,playFn:I.playSong})}))),_()&&r.a.createElement(me,{onClick:function(){_()&&N(y-1)},type:"left",keyCode:se.a.ARROW_LEFT}),S()&&r.a.createElement(me,{onClick:function(){S()&&N(y+1)},type:"right",keyCode:se.a.ARROW_RIGHT})),r.a.createElement(Oe,{moveToHero:L}))})),je=["L\u1eddi b\xe0i h\xe1t \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"],pe=Object(c.memo)((function(e){var t=e.texts,n=void 0===t?"":t,a=n.trim().length<1,c=a?je:n.split("\r\n");return r.a.createElement(u.l,{renderAs:"ul",className:d()("scroll-content",{"is-empty":a})},c.map((function(e,t){return r.a.createElement(u.l,{renderAs:"li",className:"item text-item",key:t},e)})))})),ge=n(85),he=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,a=0;a<e.length;a++){var c=e[a];if(c.startTime>t)break;n=c.index}return n},ye=["wheel"],Ne=function(e){var t=e.size,n=e.sentences,o=Object(l.c)(g.f),s=Object(c.useState)(he(n,(null===o||void 0===o?void 0:o.getCurrentTime())||0)),m=Object(a.a)(s,2),f=m[0],b=m[1],E=Object(c.useState)(!1),O=Object(a.a)(E,2),v=O[0],p=O[1],h=Object(c.useRef)(null),y=Object(c.useRef)(null),N=Object(c.useRef)(null),R=Object(i.a)().height;Object(c.useEffect)((function(){return n.length&&o.on(j.Q.PLAYER_TIMEUPDATE,A),function(){o.off(j.Q.PLAYER_TIMEUPDATE,A)}}),[n,o]),Object(c.useEffect)((function(){var e=function(){clearTimeout(h.current),v?h.current=setTimeout((function(){p(!1)}),5e3):p(!0)};return ye.forEach((function(t){var n;return null===(n=y.current)||void 0===n?void 0:n.addEventListener(t,e)})),function(){ye.forEach((function(t){var n;return null===(n=y.current)||void 0===n?void 0:n.removeEventListener(t,e)}))}}),[v]),Object(c.useEffect)((function(){var e,t;if(!(!y.current||f<0||v)){var n=y.current.getBoundingClientRect().height||500,a=(null===N||void 0===N||null===(e=N.current)||void 0===e?void 0:e.getBoundingClientRect().height)||100,c=((null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.offsetTop)||0)-(n-a)/2,r=y.current.scrollTop;Math.abs(c-r)>2*a?y.current.scrollTop=c:Object(ge.scrollTo)(y.current,c,400)}}),[f,v,t,R]);var A=function(e){b(he(n,e.current))};return r.a.createElement(u.l,{renderAs:"ul",className:"scroll-content",domRef:y},n.map((function(e){var t=e.text,n=e.index,a=n===f,c=n<f;return r.a.createElement(u.l,{renderAs:"li",domRef:a?N:null,className:d()("item",{"is-active":a,"is-over":c}),key:n},t)})))},Re=(n(1703),function(e){var t=e.song,n=e.isPlaying;return r.a.createElement(u.l,{className:"song-item"},r.a.createElement(u.l,{className:"cover"},r.a.createElement(u.x,{src:t.thumbnailM.replace("w240","w480")}),n&&r.a.createElement(u.q,{icon:"gif-playing-white",className:"playing-icon"})))}),Ae=function(e){var t=e.song,n=Object(l.b)(),a=Object(l.c)(E.m),i=Object(l.c)(E.l),o=Object(l.c)(E.o),s=Object(l.c)(E.i),m=Object(l.c)(g.l);Object(c.useEffect)((function(){a&&n(Object(V.e)(a))}),[a]);var f=Object(c.useCallback)((function(){return i.length||a?r.a.createElement(Ne,{size:s,sentences:i}):r.a.createElement(pe,{texts:o})}),[i,a,s,o]);return r.a.createElement(u.l,{className:"fs-lyric"},r.a.createElement(u.h,null,r.a.createElement(u.h.Column,{fullhd:5,tablet:"0",marginClass:" "},r.a.createElement(Re,{song:t,isPlaying:m})),r.a.createElement(u.h.Column,{fullhd:7,tablet:12,className:"is-size-".concat(s),marginClass:" "},f())))},ke=n(1598),Ce=n(1603),Ie=(n(1704),function(){}),Te=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(g.l),a=Object(l.c)(g.h),i=n&&!a,o=Object(l.c)(E.f),s=Object(l.c)(E.c),m=Object(l.c)(E.b),f=Object(c.useMemo)((function(){return s.slice(0,s.length-s.length%3)}),[s]),b=Object(c.useCallback)((function(){return o?m.length?r.a.createElement(Ce.a,{images:m,isPlay:i}):r.a.createElement(Pe,{defaultVBGUrls:f,isRunning:i}):r.a.createElement(r.a.Fragment,null)}),[o,i,m]);return r.a.createElement(u.l,{className:"fs-background"},r.a.createElement(ke.a,{image:t?t.thumbnailM:"",blurRadius:99}),r.a.createElement(u.l,{className:"overlay"}),b())})),Pe=function(e){var t=e.defaultVBGUrls,n=e.isRunning,l=Object(c.useState)(0),i=Object(a.a)(l,2),u=i[0],o=i[1],s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current&&(n?s.current.play():s.current.pause())}),[n]);var m=Object(c.useMemo)((function(){return function(e,t){if(!e.length)return[];var n=e.length,a=e[t],c=e[t+1<n?t+1:0],r=e[t-1>-1?t-1:n-1];switch(t%3){case 2:return[c,r,a];case 1:return[r,a,c];case 0:return[a,c,r];default:return[]}}(t,u)}),[u,t]),f=function(){var e=u===t.length-1?0:u+1;o(e)},b=function(){s.current&&n&&s.current.play()};return r.a.createElement(r.a.Fragment,null,m.map((function(e,t){var n=u%3===t;return r.a.createElement(H.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:4e3,classNames:"bg-animate",key:"video.backgroud.".concat(t)},r.a.createElement("video",{key:"video.backgroud.".concat(t),src:e,ref:n?s:null,muted:!0,onLoadedMetadata:n?b:Ie,onEnded:n?f:Ie}))})))},Le=n(39),_e=n(40),Se=function(e){var t=e.text,n=e.active,a=e.onChange,c=e.disabled,l=e.className;return r.a.createElement(u.d,{className:d()("zm-tg-btn",l),onClick:a,disabled:c},t,r.a.createElement(u.q,{icon:n?r.a.createElement(_e.w,null):r.a.createElement(_e.v,null),className:d()("ic-svg-switch",{"zm-switch-off":!n})}))},we=function(){var e=Object(l.b)(),t=Object(l.c)(E.p),n=Object(l.c)(g.b)||"",i=Object(l.c)(E.a),u=Object(l.c)(g.l),o=Object(s.C)(),m=Object(a.a)(o,1)[0],f=Object(c.useRef)(0),b=Object(c.useRef)(!1),d=Object(l.c)(g.f),O=function(){b.current=!1,m.isBufferingUpdate(!1),u&&d.play(),d.seek(f.current),f.current=(null===d||void 0===d?void 0:d.getCurrentTime())||0};return Object(c.useEffect)((function(){b.current&&(f.current=(null===d||void 0===d?void 0:d.getCurrentTime())||f.current,d.stop(),d.setupSource(t?i:n))}),[t,d]),Object(c.useEffect)((function(){return b.current&&d.once(j.Q.PLAYER_LOADEDMETADATA,O),function(){return d.off(j.Q.PLAYER_LOADEDMETADATA,O)}}),[t,u,d]),r.a.createElement(Se,{active:t,onChange:function(){e(Object(V.f)()),b.current=!0},text:"Ch\u1ec9 ph\xe1t nh\u1ea1c n\u1ec1n",disabled:!i})},xe=[j.u.SMALL,j.u.MEDIUM,j.u.LARGE],Me=function(e){var t=e.size,n=e.active,a=e.disabled,c=e.onClick;return r.a.createElement(u.d,{renderAs:"a",disabled:a,className:d()("size-".concat(t),{active:n}),onClick:function(){return c(t)}},"A")},De=function(){var e=Object(l.b)(),t=Object(l.c)(E.i),n=Object(l.c)(E.j),a=function(t){e(Object(V.b)(t))},c=n!==j.v.LYRIC;return r.a.createElement(u.d,{className:"size-btn",disabled:c},r.a.createElement(u.l,{renderAs:"span"},"C\u1ee1 ch\u1eef l\u1eddi nh\u1ea1c"),r.a.createElement(u.l,{className:"sizes"},xe.map((function(e){return r.a.createElement(Me,{key:e,size:e,active:e===t,disabled:c,onClick:a})}))))},Ue=n(1565),qe=function(){var e=Object(l.b)(),t=Object(l.c)(E.f),n=Object(l.c)(z.n),i=Object(s.E)(),o=Object(a.a)(i,1)[0],m=Object(Ue.a)(!1),f=Object(a.a)(m,2),b=f[0],O=f[1],v=Object(c.useRef)(null),j=Object(c.useState)(!1),p=Object(a.a)(j,2),g=p[0],h=p[1];Object(s.B)(v,(function(e){e||O(e)}));var y=Object(c.useMemo)((function(){return g?r.a.createElement(u.l,null,"C\xe0i \u0111\u1eb7t ch\u1ebf \u0111\u1ed9 ph\xe1t to\xe0n m\xe0n h\xecnh t\u1ea1i \u0111\xe2y",r.a.createElement(u.r,{icon:"close",onClick:function(){return h(!1)}})):"C\xe0i \u0111\u1eb7t"}),[g]);return Object(c.useEffect)((function(){if(!w.a.get("zmp3-tooltip-fs-setting")){var e=setTimeout((function(){h(!0),w.a.set("zmp3-tooltip-fs-setting",!0)}),1e3);return function(){return clearTimeout(e)}}}),[]),r.a.createElement(u.l,{className:"setting-btn",domRef:v},r.a.createElement(u.O,{key:g?"tooltip-feature":"tooltip-hover",visible:!!g||void 0,content:y,className:d()({"zm-tooltip-new-feature":g})},r.a.createElement(u.r,{icon:"settings",className:"zm-tooltip-btn",onClick:function(){O(),h(!1)}})),b&&r.a.createElement(u.B,null,r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(Se,{active:t,onChange:function(){e(Object(V.h)())},text:"H\xecnh n\u1ec1n"})),r.a.createElement(u.B.List.Item,null,r.a.createElement(we,null)),r.a.createElement(u.B.List.Item,null,r.a.createElement(De,null)),r.a.createElement(u.B.List.Item,null,r.a.createElement(Se,{text:"Lu\xf4n ph\xe1t nh\u1ea1c to\xe0n m\xe0n h\xecnh",active:n,onChange:o.toggleFullPlayerMode})))))},Fe=n(274),Ye=(n(1705),function(e){var t,n=e.tabs,i=e.tabActive,o=e.onChangeTab,s=e.song,m=Object(l.b)(),f=Object(c.useState)(Boolean(document.fullscreenElement)),b=Object(a.a)(f,2),d=b[0],E=b[1];Object(c.useEffect)((function(){var e=function(){E(Boolean(document.fullscreenElement))};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]);return r.a.createElement(u.l,{className:"fs-header"},r.a.createElement(u.l,{className:"left"},r.a.createElement(u.l,null,r.a.createElement(u.l,{className:"zmp3-logo"})),(null===s||void 0===s?void 0:s.currentPlaylist)&&r.a.createElement(u.l,{className:"info"},r.a.createElement(u.l,null,"T\u1eeb playlist"),r.a.createElement(u.l,{renderAs:"span"},null===s||void 0===s||null===(t=s.currentPlaylist)||void 0===t?void 0:t.title))),r.a.createElement(Le.d,{items:n,tabActive:i,onChangeTab:o}),r.a.createElement(u.y,{className:"action-group"},r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:d?"scale-2":"scale-1",title:d?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh",onClick:Fe.toggleFullScreen})),r.a.createElement(u.y.Item,null,r.a.createElement(qe,null)),!d&&r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:"go-down",title:"\u0110\xf3ng",onClick:function(){Object(Fe.closeFullscreen)(),setTimeout((function(){return m(Object(V.g)({isOpen:!1}))}),document.fullscreenElement?300:0)}}))))}),Be=Object(c.memo)((function(){var e=Object(ue.a)(5e3),t=Object(c.useRef)(document.getElementsByClassName("now-playing-bar")[0]);return Object(c.useEffect)((function(){var n,a;e?null===(n=t.current)||void 0===n||n.classList.add("is-idle"):null===(a=t.current)||void 0===a||a.classList.remove("is-idle")}),[e]),r.a.createElement(r.a.Fragment,null)})),ze=function(){return r.a.createElement(u.l,{className:"loader"},r.a.createElement(_e.r,null))},Qe=[{name:"Danh s\xe1ch ph\xe1t"},{name:"Karaoke"},{name:"L\u1eddi b\xe0i h\xe1t"}],He=Object(c.memo)((function(e){var t=e.song,n=Object(l.b)(),a=Object(l.c)(E.k),i=Object(l.c)(Z.e);Object(c.useEffect)((function(){i&&n(Object(V.g)({isOpen:!1}))}),[i]),Object(c.useEffect)((function(){p.a.emit(p.b.HIDE_HOVER_MENU),p.a.emit(p.b.HIDE_CONTEXT_MENU)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{song:t}),r.a.createElement(u.l,{className:"fs-content"},r.a.createElement(Ye,{tabs:Qe,tabActive:a,onChangeTab:function(e){n(Object(V.c)(e))},song:t}),t&&r.a.createElement(Ve,{song:t})),r.a.createElement(Be,null))})),Ve=function(e){var t,n=e.song,a=Object(l.b)(),i=Object(l.c)(E.d),o=Object(l.c)(E.g),s=Object(l.c)(E.k),m=Object(l.c)(f.h),b=Object(l.c)(g.l),d=Object(c.useRef)(!0),O=Object(l.c)(E.n),v=Object(c.useMemo)((function(){return Object(L.j)()}),[]),p=Object(l.c)(f.d);Object(c.useEffect)((function(){a(Object(V.d)(n))}),[n]);var h=Object(c.useCallback)((function(){return!d.current||s!==j.v.KARA||O.length&&v||o!==n.encodeId?(o===n.encodeId&&(d.current=!1),m?r.a.createElement(q,null):s===j.v.LIST?r.a.createElement(ve,null):i?r.a.createElement(ze,null):s===j.v.LYRIC?r.a.createElement(Ae,{song:n}):r.a.createElement(ce,{song:n})):(d.current=!1,a(Object(V.c)(j.v.LYRIC)),r.a.createElement(Ae,{song:n}))}),[i,s,m,o,n,O,v]),y=(null===p||void 0===p||null===(t=p.advertiser)||void 0===t?void 0:t.title)||n.title,N=m?y:n.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"fs-body"},h()),r.a.createElement(u.l,{className:"fs-bottom"},s!==j.v.LIST&&r.a.createElement(W,{isPlaying:b},N,!m&&r.a.createElement(r.a.Fragment,null," - ",r.a.createElement(u.l,{renderAs:"span",className:"artist"},n.artistsNames)))))};function Ge(){var e=Object(l.b)(),t=Object(l.c)(z.d),n=Object(i.a)().width,o=Object(l.c)(E.e),s=Object(l.c)(z.p),m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1];return Object(c.useEffect)((function(){return function(){e(Object(V.g)({isOpen:!1}))}}),[]),Object(c.useEffect)((function(){n<u.o&&o&&s?(d(!0),e(Object(G.q)(!1))):b&&!o&&(e(Object(G.q)(!0)),d(!1))}),[o,n,s]),r.a.createElement(H.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:"zm-video-animation"},r.a.createElement(u.l,{className:"fs-nowplaying"},r.a.createElement(He,{song:t})))}var We=n(125),Ze=n(12),Ke=n.n(Ze),Xe=n(22),Je=n(130),$e=n(65),et=Object(c.memo)((function(e){var t=e.onAddComment,n=e.encodeId,a=Object(l.c)(B.a),i=Object(c.useRef)(null),o=Object(l.c)(B.s),s=Object(l.c)(B.v);return a.id<=0?r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,null,r.a.createElement(u.d,{className:"login-btn"},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 tr\xf2 chuy\u1ec7n")),r.a.createElement(u.l,{className:"login-text"},"T\u1ea5t c\u1ea3 tin nh\u1eafn c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb c\xf4ng khai")):r.a.createElement(u.l,{className:"comment-input",renderAs:"form",onSubmit:function(e){var c;if(e.preventDefault(),!(a.userid<=0)&&i.current&&(null===(c=i.current)||void 0===c?void 0:c.value)){var r,l={id:Math.random(),content:null===(r=i.current)||void 0===r?void 0:r.value,avatar:a.avatar,username:a.username||a.displayName};t(Object(le.a)(Object(le.a)({},l),{},{vipPackageTypes:s}));try{Je.a.addComment(n,l.content)}catch(u){L.q.error(u.code,"Put Live Radio comment id:",n)}i.current.value=""}}},r.a.createElement(Le.b,{avatar:o,vipPackageTypes:s}),r.a.createElement(u.u,{placeholder:a.userid<=0?"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 b\xecnh lu\u1eadn...":"Nh\u1eadp b\xecnh lu\u1eadn v\xe0o \u0111\xe2y...",domRef:i}))})),tt=n(33),nt=n(28),at=Object(c.memo)((function(e){var t=e.vipPackageTypes,n=void 0===t?[]:t,a=e.avatar,c=e.username,l=e.official,i=e.content,o=n.length>0,s=n.includes(j.rb.PREMIUM);return r.a.createElement(u.A,{className:"zm-live-comment-item"},r.a.createElement(u.A.Left,null,r.a.createElement(Le.b,{avatar:a,vipPackageTypes:n,size:40,isCircleInside:!0})),r.a.createElement(u.A.Content,{className:"zm-live-comment-item-content"},r.a.createElement(u.l,{className:"username"},c," ",l&&r.a.createElement(_e.a,null),o&&r.a.createElement(u.q,{icon:s?r.a.createElement(_e.m,null):r.a.createElement(_e.j,null)})),r.a.createElement(u.l,{className:"content",dangerouslySetInnerHTML:{__html:i}})))})),ct=Object(c.memo)((function(e){var t=e.encodeId,n=e.comments,l=e.onSetCommentList,i=Object(c.useRef)(null),o=Object(c.useRef)(!1),s=Object(c.useState)(!0),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(ue.a)(5e3),E=Object(c.useRef)(0);E.current=n.length;var O=Object(c.useRef)(f);O.current=f;var v=Object(c.useMemo)((function(){var e;return(null===(e=n[0])||void 0===e?void 0:e.id)||0}),[n]),j=function(){return i.current&&i.current.scrollTop<=300&&!O.current&&E.current<150};Object(c.useEffect)((function(){var e;o.current&&d&&(null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight))}),[d]),Object(c.useEffect)((function(){var e;if(i.current)if(n.length&&n[n.length-1].id<1)null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight);else if(!o.current){var t,a=i.current,c=a.scrollHeight-(a.scrollTop+a.clientHeight);if(0!==c)if(c>200)null===(t=i.current)||void 0===t||t.scrollTo(0,i.current.scrollHeight);else Object(ge.scrollTo)(i.current,i.current.scrollHeight,400)}}),[n]),Object(c.useEffect)((function(){if(o.current=!1,i.current&&window.ResizeObserver){var e=new ResizeObserver((function(){var e;null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight)}));return e.observe(i.current),function(){return e.disconnect()}}}),[t]),Object(c.useEffect)((function(){0!==v?j()&&p(v,lt.BEFORE):p(0,lt.NEWEST)}),[v]);var p=function(){var e=Object(Xe.a)(Ke.a.mark((function e(n,a){var c,r,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Je.a.getCommentList(t,n,a,50);case 4:c=e.sent,r=c.data.items,(i=void 0===r?[]:r).length>0&&l(Object(ie.a)(i.reverse())),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,10,12,15]])})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(u.l,{className:"zm-live-comment-list",onScroll:function(e){j()&&p(v,lt.BEFORE);var t=e.target,n=t.scrollHeight,a=t.scrollTop,c=t.clientHeight;o.current=n-(a+c)>0},domRef:i},!f&&nt.Array.isEmpty(n)?r.a.createElement(u.l,{className:"empty"},r.a.createElement(u.x,{src:tt.l+"/icons/Empty-Chat.png"}),r.a.createElement(u.l,{className:"text"},"Ch\u01b0a c\xf3 tr\xf2 chuy\u1ec7n n\xe0o")):n.map((function(e){return r.a.createElement(at,Object.assign({key:e.id},e))})))})),rt=Object(c.memo)((function(e){var t=e.title,n=e.content,a=e.bgColor,c=e.remove;return r.a.createElement(u.l,{className:"pin-comment",style:{backgroundColor:a}},r.a.createElement(u.l,{className:"pin-title"},r.a.createElement(u.l,{renderAs:"span"},"Ghim"),t),r.a.createElement(u.l,{className:"pin-content"},r.a.createElement(u.l,{dangerouslySetInnerHTML:{__html:n}})),r.a.createElement(u.r,{onClick:c,icon:"close"}))})),lt=(n(1706),{NEWEST:"newest",BEFORE:"before",AFTER:"after"}),it=Object(c.memo)((function(e){var t=e.item,n=e.setPinnedMessage,i=e.isPinnedMessage,o=Object(l.c)(We.k),s=Object(c.useState)([]),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(c.useRef)([]);d.current=f;var E=Object(c.useCallback)((function(e){b([].concat(Object(ie.a)(e),Object(ie.a)(d.current)))}),[]),O=function(){var e=Object(Xe.a)(Ke.a.mark((function e(n){var a,c,r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.getCommentList(t.encodeId,n,lt.NEWEST,50);case 3:a=e.sent,c=a.data.items,(r=void 0===c?[]:c).length>0&&(l=[].concat(Object(ie.a)(d.current),Object(ie.a)(r.reverse())),b(l.slice(Math.max(l.length-200,0),l.length).filter((function(e){return e.id>1})))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){b([])}),[t.encodeId]);var v=Object(c.useMemo)((function(){if(f.length<1)return 0;for(var e=0,t=f.length-1;t>=0;t--)if(f[t]&&f[t].id>1){e=f[t].id;break}return e}),[f]);return Object(c.useEffect)((function(){var e=setInterval((function(){O(v)}),5e3);return function(){return clearInterval(e)}}),[v,t.encodeId]),r.a.createElement(u.l,{className:"zm-live-comment"},r.a.createElement(ct,{encodeId:t.encodeId,comments:f,onSetCommentList:E}),i&&o&&r.a.createElement(rt,Object.assign({},o,{remove:function(){return n(!1)}})),r.a.createElement(et,{encodeId:t.encodeId,onAddComment:function(e){b([].concat(Object(ie.a)(d.current),[e]))}}))})),ut=n(29),ot=n(1592),st=function(e,t){if(t-e>=o.c)return"C\u1ea3 ng\xe0y";return"".concat(Object(ut.secondsToDate)(e,"HH:mm")," - ").concat(Object(ut.secondsToDate)(t,"HH:mm"))},mt=Object(c.memo)((function(e){var t=e.item;return r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"program-time"},st(t.startTime,t.endTime)),r.a.createElement(u.l,{className:"program-title"},r.a.createElement(u.L,null,t.title))))})),ft=(n(1707),2*o.b),bt=function(e){var t=e.currentTime,n=e.hourHeight,l=Object(c.useState)(Date.now()/o.l),i=Object(a.a)(l,2),s=i[0],m=i[1];Object(c.useEffect)((function(){var e=new Date;m(e.getTime()/o.l);var t=setInterval((function(){m(Date.now()/o.l)}),o.g);return function(){return clearInterval(t)}}),[t]);var f=(s-t)/o.e*n-1;return r.a.createElement(u.l,{className:"time-axis",style:{top:f}},r.a.createElement("span",null," ",Object(ut.secondsToDate)(s,"HH:mm")))},dt=Object(c.memo)((function(){var e=Object(l.c)(We.l),t=Object(c.useState)(Object(ot.b)()),n=Object(a.a)(t,2),i=n[0],s=n[1],m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],E=f[1],O=Object(c.useState)(o.d),v=Object(a.a)(O,2),j=v[0],p=v[1],g=Object(c.useState)([]),h=Object(a.a)(g,2),y=h[0],N=h[1],R=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=setInterval((function(){var e=Object(ot.b)();s(e)}),o.g);return function(){return clearInterval(e)}}),[]);var A=Object(c.useMemo)((function(){var e=Object(ot.c)(i);return Array.from({length:ft},(function(e,t){return t})).filter((function(t){return t>=e})).map((function(e){var t=e%24;return 0===t?Object(ut.unixToDate)(Object(ut.getNextDate)().getTime(),"DD/MM"):t+":00"}))}),[i]);Object(c.useEffect)((function(){var e;null===(e=R.current)||void 0===e||e.scrollTo(0,0)}),[e]),Object(c.useEffect)((function(){var t=[],n=o.d;e.forEach((function(e){if(i<e.endTime){t.push(e);var a=(e.endTime-e.startTime)/o.h;n>a&&(n=a)}})),N(t),p(n)}),[i,e]);var k=Object(c.useMemo)((function(){var e=Object(ot.a)();return e.setHours(ft),e.getTime()/o.l}),[i]),C=Object(c.useMemo)((function(){return 66*o.d/j}),[j]),I=A.map((function(e,t){return r.a.createElement(u.l,{className:"time-line-item",key:"".concat(e,"-").concat(t)},r.a.createElement("span",null,e))})),T=y.map((function(e,t){var n=Math.max(e.startTime,i),a=Math.min(e.endTime,k),c=(n-i)/o.e*C+10,l=(a-n)*C/o.e-2;return r.a.createElement(u.l,{key:e.encodeId,className:d()("program",{"is-active":0===t}),style:{top:c,height:l}},r.a.createElement(mt,{item:e}))}));return r.a.createElement(u.l,{className:d()("zm-live-schedule",{"is-scroll":b}),onScroll:function(e){E(e.target.scrollTop>0)},domRef:R},r.a.createElement(u.l,{className:"time-lines",style:{"--hour-height":"".concat(C,"px")}},I,T,r.a.createElement(bt,{currentTime:i,hourHeight:C})))})),Et=Object(c.memo)((function(e){var t=e.item,n=e.className,a=e.request,c=e.requestRemove,l=e.showPrefix,i=e.isRequested,o=e.requestText,s=e.removeText,m=e.prefix;return r.a.createElement(u.A,{className:d()("zm-media-request",n)},l&&r.a.createElement(u.A.Left,null,m||r.a.createElement(u.l,{className:"total-request"},r.a.createElement(u.l,{className:"number"},t.totalRequest),r.a.createElement(u.l,{className:"text"},"Y\xeau c\u1ea7u"))),r.a.createElement(u.A.Content,null,r.a.createElement(u.x,{size:40,src:t.thumbnail}),r.a.createElement(u.l,{className:"info"},r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,null,t.title)),r.a.createElement(u.l,{className:"artist"},r.a.createElement(u.L,null," ",t.artistsNames)))),r.a.createElement(u.A.Right,null,r.a.createElement(Ot,{isRequested:i,item:t,request:a,requestRemove:c,requestText:o,removeText:s})))})),Ot=function(e){var t=e.isRequested,n=e.item,a=e.request,l=e.requestRemove,i=e.requestText,o=void 0===i?"Y\xeau c\u1ea7u":i,s=e.removeText,m=void 0===s?"H\u1ee7y y\xeau c\u1ea7u":s,f=Object(c.useRef)(t);f.current=t;var b=function(){var e=Object(Xe.a)(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.current){e.next=4;break}return l(n),e.abrupt("return");case 4:a(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($e.a,{onClickFn:b},r.a.createElement(u.d,{className:d()("request-btn",{active:t})},t?m:o))},vt=Object(c.memo)(Et),jt=Object(c.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.showPrefix,l=e.requestText,i=e.removeText,u=Object(c.useContext)(qt),o=u.request,s=(u.remove,u.requestedIds),m=u.requestRemove;return r.a.createElement(r.a.Fragment,null,n.map((function(e){var t=s.indexOf(e.encodeId)>-1;return r.a.createElement(vt,{item:e,key:e.encodeId,isRequested:t,showPrefix:a,request:o,requestRemove:m,requestText:l,removeText:i})})))})),pt=Object(c.memo)((function(e){var t=e.items,n=Object(l.c)(We.m),i=Object(c.useState)(!1),o=Object(a.a)(i,2),s=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(vt,{item:n,className:"next-media",request:null,requestRemove:null,isRequested:!1,showPrefix:!0,prefix:r.a.createElement(u.l,{className:"total-request"},r.a.createElement(u.x,{src:tt.l+"/icons/icon-color-member.png"}),r.a.createElement(u.l,{className:"text"},"Ti\u1ebfp theo"))}),r.a.createElement(u.l,{className:d()("top-request",{"is-scroll":s}),onScroll:function(e){m(e.target.scrollTop>0)}},r.a.createElement(jt,{items:t,showPrefix:!0,removeText:"\u0110\xe3 y\xeau c\u1ea7u"})))})),gt=Object(c.memo)((function(e){var t=e.items,n=nt.Array.isEmpty(t);return r.a.createElement(u.l,{className:"top-request"},n?r.a.createElement(u.l,{className:"empty-content"},r.a.createElement(u.x,{src:tt.l+"/icons/Empty-Chat.png"}),r.a.createElement(u.l,{className:"text"},"B\u1ea1n ch\u01b0a y\xeau c\u1ea7u b\xe0i h\xe1t n\xe0o")):r.a.createElement(jt,{items:t}))})),ht=n(1601),yt=n(1570),Nt=n(1599),Rt=(n(1708),Object(c.memo)((function(e){Object(ht.a)(e);var t=Object(l.c)(We.e),n=Object(c.useState)(""),i=Object(a.a)(n,2),o=i[0],s=i[1],m=Object(c.useState)([]),f=Object(a.a)(m,2),b=f[0],E=f[1],O=Object(c.useRef)(o);O.current=o;var v=(t||{}).genreIds,j=void 0===v?[]:v,p=Object(c.useCallback)(Object(Xe.a)(Ke.a.mark((function e(){var t,n,a,c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=o.trim())){e.next=4;break}return E([]),e.abrupt("return");case 4:return e.prev=4,e.next=7,Nt.a.search("song",t);case 7:if(n=e.sent,a=n.data,O.current===o){e.next=11;break}return e.abrupt("return");case 11:c=(null===a||void 0===a?void 0:a.items)||[],E(c),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:case"end":return e.stop()}}),e,null,[[4,15]])}))),[o]),g=Object(c.useCallback)((function(e){s(e.target.value)}),[]),h=Object(c.useCallback)((function(e){L.b.preventDefault(e),s("")}),[]);Object(yt.a)(p,200,[o]);var y=[],N=[];return b.forEach((function(e){(null===j||void 0===j?void 0:j.length)?nt.Array.some(e.genreIds||[],(function(e){return j.indexOf(e)>-1}))?y.push(e):N.push(e):y.push(e)})),r.a.createElement(u.l,{renderAs:"form",className:d()("song-request-search",{active:!nt.Array.isEmpty(b)})},r.a.createElement(u.l,{className:"field"},r.a.createElement(u.q,{icon:"search"}),r.a.createElement(u.l,{renderAs:"input",placeholder:"T\xecm ki\u1ebfm theo t\xean b\xe0i h\xe1t, ca s\u0129",onChange:g,onFocus:function(){},value:o}),r.a.createElement(u.r,{icon:"close",className:"clear-btn",onClick:h})),r.a.createElement(u.l,{className:"results"},r.a.createElement(jt,{items:y}),!nt.Array.isEmpty(N)&&r.a.createElement(u.l,{className:"other"},r.a.createElement(u.l,{className:"text"},"K\u1ebft qu\u1ea3 kh\xe1c"),r.a.createElement(u.l,{className:"desc"},"C\xe1c b\xe0i h\xe1t kh\xf4ng thu\u1ed9c th\u1ec3 lo\u1ea1i quy \u0111\u1ecbnh"),r.a.createElement(jt,{items:N}))))}))),At=n(16),kt=n(13),Ct="/livestream/request/get/song-request",It="/livestream/request/get/user-list",Tt="/livestream/request/post/add-song",Pt="/livestream/request/post/remove-song",Lt={get:function(e){return Object(kt.c)((function(){return Object(kt.d)(Ct,{id:e})}))},getUserList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return Object(kt.c)((function(){return Object(kt.d)(It,{id:e,start:t,count:n})}))},request:function(e,t){return Object(kt.f)(Tt,{id:e,streamId:t})},remove:function(e,t){return Object(kt.f)(Pt,{id:e,streamId:t})}},_t="GET_DATA_SUCESS",St="REQUEST_SUCCESS",wt="REMOVE_SUCCESS",xt="RESET_DATA",Mt=function(e,t){var n=t.type,a=t.payload;switch(n){case _t:return Object(le.a)(Object(le.a)({},e),a);case St:var c=a,r=e.top,l=void 0===r?[]:r,i=e.requested,u=void 0===i?[]:i,o=l.find((function(e){var t=e.encodeId;return c.encodeId===t}));return o?o.totalRequest++:(c.totalRequest=1,l.push(c)),u.push(c),Object(le.a)(Object(le.a)({},e),{},{top:l.sort((function(e,t){return t.totalRequest-e.totalRequest})),requested:u});case wt:var s=a,m=e.top.find((function(e){return e.encodeId===s}));return m&&(m.totalRequest>1?m.totalRequest--:e.top=e.top.filter((function(e){return e.encodeId!==s}))),e.requested=e.requested.filter((function(e){return e.encodeId!==s})),Object(le.a)(Object(le.a)({},e),{},{top:e.top.sort((function(e,t){return t.totalRequest-e.totalRequest}))});case xt:return{top:[],requested:[]};default:return e}},Dt={top:[],requested:[]},Ut=function(e){var t=Object(c.useReducer)(Mt,Dt),n=Object(a.a)(t,2),r=n[0],i=n[1],u=Object(l.b)(),o=r.top,s=r.requested,m=void 0===s?[]:s,f=Object(c.useRef)(null),b=Object(c.useRef)(m.length);return b.current=m.length,Object(c.useEffect)((function(){i({type:xt});var t=function(){var t=Object(Xe.a)(Ke.a.mark((function t(){var n,a,c,r,l,u;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.get(e);case 3:n=t.sent,a=n.data,r=(c=a||{}).top,l=void 0===r?[]:r,u=c.requested,i({type:_t,payload:{top:l,requested:void 0===u?[]:u}}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return t(),f.current=setInterval(t,1e4),function(){clearInterval(f.current)}}),[e]),{top:o,requested:m,request:Object(c.useCallback)(function(){var t=Object(Xe.a)(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(b.current>=10)){t.next=3;break}return u(Object(At.p)({text:"B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t y\xeau c\u1ea7u"})),t.abrupt("return");case 3:return t.prev=3,t.next=6,Lt.request(n.encodeId,e);case 6:i({type:St,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),u(Object(At.p)({text:t.t0.msg}));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),[e]),remove:Object(c.useCallback)(function(){var t=Object(Xe.a)(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.remove(n,e);case 3:i({type:wt,payload:n}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(Object(At.p)({text:t.t0.msg}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]),requestedIds:m.map((function(e){return e.encodeId}))}},qt=(n(1709),r.a.createContext({})),Ft=[{name:"Top y\xeau c\u1ea7u"},{name:"Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n"}],Yt=function(e){var t=e.item,n=e.cancel,a=e.remove;return r.a.createElement(u.l,{className:"modal-confirm"},r.a.createElement(u.l,{className:"content"},r.a.createElement(u.l,{className:"text"},t.title),r.a.createElement(u.l,{className:"desc"},"B\u1ea1n c\xf3 mu\u1ed1n hu\u1ef7 b\xe0i h\xe1t n\xe0y?"),r.a.createElement(u.l,{className:"actions"},r.a.createElement(u.d,{onClick:n},"\u0110\xf3ng"),r.a.createElement(u.d,{className:"active",onClick:function(){a(t.encodeId),n()}},"H\u1ee7y y\xeau c\u1ea7u"))))},Bt=Object(c.memo)((function(e){var t=e.item,n=Object(c.useState)(0),l=Object(a.a)(n,2),i=l[0],o=l[1],s=Object(c.useState)(null),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Ut(t.encodeId),E=d.top,O=d.requested;return r.a.createElement(qt.Provider,{value:Object(le.a)(Object(le.a)({},d),{},{requestRemove:function(e){b(e)}})},r.a.createElement(u.l,{className:"zm-song-request"},r.a.createElement(Le.d,{items:Ft,tabActive:i,onChangeTab:o}),r.a.createElement(Rt,{streamId:t.encodeId}),1===i?r.a.createElement(gt,{items:O}):r.a.createElement(pt,{items:E}),f&&r.a.createElement(Yt,{item:f,cancel:function(){b(null)},remove:d.remove})))})),zt=(n(1710),[{name:"Tr\xf2 chuy\u1ec7n"},{name:"L\u1ecbch ph\xe1t"},{name:"Y\xeau c\u1ea7u"}]),Qt=[{name:"Tr\xf2 chuy\u1ec7n"},{name:"L\u1ecbch ph\xe1t"}],Ht=Object(c.memo)((function(e){var t=e.item,n=Object(c.useState)(0),i=Object(a.a)(n,2),o=i[0],s=i[1],m=Object(c.useState)(!0),f=Object(a.a)(m,2),b=f[0],E=f[1],O=Object(c.useState)(!1),v=Object(a.a)(O,2),j=v[0],p=v[1],g=Object(l.c)(We.e),h=Object(l.c)(We.k);Object(c.useEffect)((function(){E(!0)}),[t.encodeId]);var y=function(){p(!j)};return Object(c.useEffect)((function(){2!==o||(null===g||void 0===g?void 0:g.hasSongRequest)||s(0)}),[g,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:d()("zm-live-right-content",{open:j})},r.a.createElement(Le.d,{className:"main-tabs",items:(null===g||void 0===g?void 0:g.hasSongRequest)?zt:Qt,tabActive:o,onChangeTab:s}),r.a.createElement(u.l,{className:"content-wrapper"},function(){switch(o){case 0:return r.a.createElement(it,{item:t,setPinnedMessage:E,isPinnedMessage:b});case 1:return r.a.createElement(dt,null);case 2:return r.a.createElement(Bt,{item:t});default:return r.a.createElement(dt,null)}}()),r.a.createElement(u.P,{icon:"close",title:"\u0110\xf3ng b\xecnh lu\u1eadn",className:"close-btn",onClick:y})),r.a.createElement(u.P,{icon:"20-Comment",title:j?"\u0110\xf3ng b\xecnh lu\u1eadn":"M\u1edf b\xecnh lu\u1eadn",className:"right-toggle-btn",onClick:y,style:{backgroundColor:j?null===h||void 0===h?void 0:h.bgColor:""}}))})),Vt=n(1567),Gt=n(86),Wt=n(259),Zt=(n(1645),n(1646)),Kt=[0,5,10,15,20,25,30,35,40,45,50,55],Xt=[0,1,2,3,4,5,6,7,8,9,10,11,12],Jt=Object(c.memo)((function(e){var t=e.onChangeTime,n=Object(c.useState)({hours:0,mins:0}),l=Object(a.a)(n,2),i=l[0],o=l[1];return Object(c.useEffect)((function(){var e=60*(60*i.hours+i.mins);t(e)}),[i]),r.a.createElement(u.l,{className:"time-picker"},r.a.createElement($t,{label:"gi\u1edd",min:0,max:99,onChange:function(e){return o(Object(le.a)(Object(le.a)({},i),{},{hours:e}))},options:Xt}),r.a.createElement(u.l,{className:"dot"},":"),r.a.createElement($t,{label:"ph\xfat",min:0,max:59,onChange:function(e){return o(Object(le.a)(Object(le.a)({},i),{},{mins:e}))},options:Kt}))})),$t=Object(c.memo)((function(e){var t=e.label,n=e.min,l=void 0===n?0:n,i=e.max,o=void 0===i?59:i,s=e.initTime,m=e.options,f=e.onChange,b=Object(c.useState)(Object(ut.padZero)(s||l)),E=Object(a.a)(b,2),O=E[0],v=E[1],j=Object(c.useState)(!1),p=Object(a.a)(j,2),g=p[0],h=p[1],y=Object(c.useRef)(null),N=Object(c.useRef)(!1),R=Object(c.useRef)(null);Object(Zt.a)(y,(function(){h(!1)})),Object(c.useEffect)((function(){var e=Number(O);R.current=function(t){var n=t?e+1:e-1;n<l&&(n=l),n>o&&(n=o),k(n)}}),[O,f]);var A=function(e){N.current?v("".concat(e)):v(Object(ut.padZero)(Number(e)))},k=function(e){f(Number(e||0)),A(e)},C=Object(c.useCallback)((function(e){e.keyCode===se.a.ARROW_UP&&R.current(!0),e.keyCode===se.a.ARROW_DOWN&&R.current()}),[]),I=Object(c.useCallback)((function(){N.current=!0,h(!0),window.addEventListener("keydown",C)}),[]);return r.a.createElement(u.l,{className:d()("time-input",{focus:g}),domRef:y},r.a.createElement(u.u,{value:O,onChange:function(e){var t=e.target.value;if(t.length){var n=Number(t);Number.isNaN(n)||(t.length>2?k(en(O,t)):k(n<l||n>o?o:t))}else k(t)},onFocus:I,onBlur:function(){N.current=!1,A(O),window.removeEventListener("keydown",C)},type:"text"}),r.a.createElement(u.l,{renderAs:"span",className:"label",onClick:function(){return h(!0)}},t),r.a.createElement(u.l,{className:"time-options"},r.a.createElement(r.a.Fragment,null,m.map((function(e){var n=Object(ut.padZero)(e),a=O===n;return r.a.createElement(u.l,{key:e,className:d()("option",{active:a}),onClick:function(){k(e),h(!1)}},"".concat(n," ").concat(t))})))))})),en=function(e,t){for(var n=e.split(""),a=t.split(""),c="",r=0;r<a.length&&(c=a[r],n[r]===c);r++);return c},tn=function(e){var t=e.hide,n=Object(l.b)(),i=Object(s.E)(),o=Object(a.a)(i,1)[0],m=Object(c.useState)(0),f=Object(a.a)(m,2),b=f[0],d=f[1],E=0===b;return r.a.createElement(u.l,{className:"alarm-setting"},r.a.createElement(u.M,null,"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"),r.a.createElement(Jt,{onChangeTime:d}),r.a.createElement(u.M,{subtitle:!0,className:"estimate-time"},E?"Ch\u1ecdn th\u1eddi gian \u0111\u1ec3 d\u1eebng ph\xe1t nh\u1ea1c":r.a.createElement(r.a.Fragment,null,"D\u1ef1 t\xednh d\u1eebng ph\xe1t nh\u1ea1c l\xfac:"," ",r.a.createElement(nn,{seconds:b}))),r.a.createElement(u.d,{uppered:!0,outlined:!0,fullwidth:!0,className:"active",isSize:"medium",onClick:function(){n(Object(Wt.c)(b)),o.toggleIsOpen(!1),t(),Object(Gt.b)(oe.d.SET_ALARM_SUCCESS)},disabled:E},"L\u01b0u l\u1ea1i"),r.a.createElement(u.r,{className:"mar-t-10",isActive:!0,fullwidth:!0,uppered:!0,text:"H\u1ee7y",onClick:t}))},nn=function(e){var t=e.seconds,n=Object(c.useState)(0),l=Object(a.a)(n,2)[1];return Object(Vt.a)((function(){l(Object(ut.currentTime)())}),o.g),r.a.createElement(u.l,{renderAs:"b"},Object(ut.secondsToDate)(Object(ut.currentTime)()+t,"HH:mm  DD/MM/YYYY"))},an=function(e){return e.alarm.time},cn=function(e){return e.alarm.time>0},rn=function(e){var t=e.icon,n=void 0===t?"close":t,a=e.className,c=Object(l.b)();return r.a.createElement(u.P,{icon:n,onClick:function(){c(Object(At.o)({type:j.G.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd",className:a})},ln=Object(c.memo)((function(){var e=Object(l.c)(cn),t=Object(s.z)(),n=t.Modal,a=t.show,c=t.hide;return e?r.a.createElement(rn,{icon:"clock",className:"active"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.g,{component:function(e){return r.a.createElement(u.P,Object.assign({icon:"20-Clock",title:"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"},e))},onClickFn:a,category:oe.a.NOW_PLAYING,action:"setup-alarm"}),r.a.createElement(n,null,r.a.createElement(tn,{hide:c})))})),un=n(63),on=Object(c.memo)((function(e){var t=e.num,n=Object(c.useRef)(0),l=Object(c.useState)(0),i=Object(a.a)(l,2),u=i[0],o=i[1];return n.current=u,Object(c.useEffect)((function(){var e=Math.round(Math.abs(t-n.current)/7),a=t-n.current>0,c=n.current;if(!(e<1)){var r=setInterval((function(){c+=(a?1:-1)*e,(a?c>=t:c<=t)&&(c=t,clearInterval(r)),o(c)}),30);return function(){return clearInterval(r)}}o(t)}),[t]),r.a.createElement(r.a.Fragment,null,Object(un.b)(u,"."))})),sn=function(e){var t=e.item,n=e.onHide;return Object(c.useEffect)((function(){var e=setTimeout((function(){n(t)}),4500);return function(){return clearTimeout(e)}}),[]),r.a.createElement(u.l,{className:"item"},r.a.createElement(u.l,{className:"header"},t.header),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.t,{src:t.thumb,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,null,t.title)),r.a.createElement(u.l,{className:"artist"},t.subTitle))))},mn=Object(c.memo)((function(e){var t=e.streamId,n=Object(c.useState)([]),l=Object(a.a)(n,2),i=l[0],o=l[1],s=Object(c.useRef)(i),m=Object(c.useRef)(0);s.current=i,Object(c.useEffect)((function(){m.current=0,o([]);var e=!0,n=function(){var n=Object(Xe.a)(Ke.a.mark((function n(){var a,c;return Ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Je.a.getAnnouncement(t,m.current,"after",0===m.current?1:10);case 3:a=n.sent,c=a.data,nt.Array.isEmpty(null===c||void 0===c?void 0:c.items)||(m.current=c.items[0].id,e||o([].concat(Object(ie.a)(s.current),Object(ie.a)(c.items.reverse())))),e=!1,n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n();var a=setInterval(n,1e4);return function(){return clearInterval(a)}}),[t]);var f=i[0];return f?r.a.createElement(u.l,{className:"announcement"},r.a.createElement(sn,{item:f,onHide:function(e){o(s.current.filter((function(t){return e.id!==t.id})))},key:f.id})):r.a.createElement(r.a.Fragment,null)})),fn="https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/",bn={1:["heart-blue.png","heart-green.png","heart-pink.png","heart-orange.png"],2:["bubble-blue.png","bubble-orange.png","bubble-pink.png","bubble-green.png"],3:["music-blue.png","music-orange.png","music-green.png","music-pink.png","music-blue-1.png","music-orange-1.png","music-green-1.png","music-pink-1.png"]},dn=Object(c.memo)((function(e){var t=e.total,n=Object(c.useState)(t),l=Object(a.a)(n,2),i=l[0],u=l[1],o=Object(c.useRef)(i);return o.current=i,Object(c.useEffect)((function(){u(t);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(o.current+e)};return p.a.on("ADD_REACTION",e),function(){return p.a.off("ADD_REACTION",e)}}),[t]),r.a.createElement(on,{num:i})})),En=n(38),On=function(e){return e?e.artistsNames?e.artistsNames:Array.isArray(e.artists)?null===(t=e.artists)||void 0===t?void 0:t.map((function(e){return e.name})).join(" "):e.artists||"":"";var t},vn=Object(c.memo)((function(e){var t=e.song,n=e.bgColor,c=e.thumbnail,l=On(t),i=Object(s.x)(),o=Object(a.a)(i,1)[0],m=r.a.createElement(u.A,{style:{backgroundColor:n}},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail||c,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{key:t.title},t.title)),r.a.createElement(u.M,{subtitle:!0},l)),t.encodeId&&r.a.createElement(u.A.Right,{onClick:L.b.preventDefault},r.a.createElement(fe.e,{object:t,objectId:t.encodeId,objectType:t.episode?j.N.EPISODE:j.N.SONG})));return t.link?r.a.createElement(En.b,{to:t.link,onClick:function(){o.toggleOpenFS(!1)}},m):m})),jn=n(426),pn=n(408),gn=n(615),hn=n(106),yn=Object(c.memo)((function(e){var t=e.src,n=e.position;return r.a.createElement(u.l,{className:"emoji-wrapper",style:{animationName:t?"zm-bubble-".concat(nt.Number.random(-10,10)):"",left:86*n}},r.a.createElement(u.l,{className:"emoji-content",style:{animationName:t?"zm-wave-".concat(nt.Number.random(-10,10)):""}},r.a.createElement(u.l,{className:"emoji-image",style:{animationName:t?"zm-opacity-".concat(nt.Number.random(-10,10)):""}},r.a.createElement("img",{src:t}))))})),Nn=function(e,t){var n=bn[e];return n?fn+n[nt.Number.random(0,n.length-1)]:t},Rn=Object(c.memo)((function(e){var t=e.encodeId,n=e.comboNumb,l=e.reactions,i=void 0===l?[]:l,o=Object(s.x)(),m=Object(a.a)(o,1)[0],f=Object(c.useState)(new Array(40).fill(0)),b=Object(a.a)(f,2),d=b[0],E=b[1],O=Object(c.useRef)([]),v=Object(c.useState)(function(e){var t={};return e.forEach((function(e){t[e.sequence]=0})),t}(i)),j=Object(a.a)(v,2),g=j[0],h=j[1],y=Object(c.useRef)({}),N=Object(c.useRef)({}),R=Object(c.useRef)(0),A=Object(c.useRef)([]),k=Object(c.useRef)(0);O.current=d;var C=Object(c.useMemo)((function(){var e={};return i.forEach((function(t){var n=t.sequence,a=t.url;e[n]=a})),e}),[i]),I=Object(c.useMemo)((function(){return i.map((function(e){return e.sequence}))}),[i]),T=Object(c.useMemo)((function(){var e={};return i.forEach((function(t){var n=t.sequence,a=t.id;e[n]=a})),e}),[i]);Object(c.useEffect)((function(){E(new Array(40).fill(0))}),[t]);var P=Object(c.useCallback)((function(e){var t=e||A.current.shift(),n=Object(ut.currentMilliseconds)(),a=O.current.map((function(e){return n-e.time<2500?e:{time:0}}));0===a[k.current].time?(a[k.current]={time:n,src:t.src,id:t.id},k.current===d.length-1?k.current=0:k.current++,E(Object(ie.a)(a))):e&&A.current.unshift(e)}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){A.current.length&&P()}),200);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(Xe.a)(Ke.a.mark((function e(n){var a,c,r,l,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.getReaction(t,n);case 3:if(a=e.sent,(c=a.data).last_version&&c.last_version>R.current&&(R.current=c.last_version),c.reaction){e.next=8;break}return e.abrupt("return");case 8:for(i in r=0,l=function(e){var t,n=c.reaction[e],a=C["".concat(e)],l=T["".concat(e)]||0;a&&(r+=n,A.current.length<100&&(t=A.current).push.apply(t,Object(ie.a)(new Array(Math.min(100,n)).fill(0).map((function(){return{id:Number.parseInt(e),src:Nn(l,a)}})))))},c.reaction)l(i);r>0&&p.a.emit("ADD_REACTION",r),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();R.current=0;var n=setInterval((function(){e(R.current)}),3e3);return function(){return clearInterval(n)}}),[t,C,T]);var L=Object(c.useRef)({}),_=function(e,a){P({src:Nn(a,C[e]),id:e}),p.a.emit("ADD_REACTION",1),L.current[e]?L.current[e]++:L.current[e]=1,h((function(t){var n=Object(le.a)({},t);return n[e]=(n[e]||0)+1,n})),y.current[e]&&clearTimeout(y.current[e]),N.current[e]&&clearInterval(N.current[e]),y.current[e]=setTimeout((function(){h((function(a){var c=Object(le.a)({},a),r=c[e];if(r>=n){var l=i.find((function(t){return t.sequence===e}));if(l){var u={reactionId:l.sequence,messageType:0,reactionCount:r,reactionType:{type:l.type,vectorId:l.id,imageUrl:l.url}};Je.a.addComment(t,JSON.stringify(u),pn.a.REACTION_COMBO).then((function(e){var t=e.data.id;p.a.emit(p.b.REACTIONS_COMBO_NOTIFY,t,l.id,r,l.url)}))}c[e]=0}else r&&(c[e]=r-1,N.current[e]=setInterval((function(){h((function(t){var n=Object(le.a)({},t),a=n[e];return a?n[e]=a-1:clearInterval(N.current[e]),n}))}),50));return c}))}),350)};Object(c.useEffect)((function(){var e=setInterval(Object(Xe.a)(Ke.a.mark((function e(){var n,a,c,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.keys(L.current),a=Object.values(L.current),L.current={},n.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,Je.a.addReaction(t,n,a);case 8:c=e.sent,(r=c.data).last_version&&r.last_version>R.current&&(R.current=r.last_version),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),hn.a.error(0,"Live Radio Add Reaction");case 16:try{n.forEach((function(e,n){m.trackLivestreamReaction(t,Number.parseInt(e),a[n])}))}catch(l){}case 17:case"end":return e.stop()}}),e,null,[[5,13]])}))),3e3);return function(){return clearInterval(e)}}),[t]);var S=Object(c.useMemo)((function(){return i.map((function(e){return r.a.createElement(In,{key:"".concat(e.sequence,"-").concat(t),vectorId:e.id,btnUrl:e.btnUrl,sequence:e.sequence,onClick:_,comboReacts:g[e.sequence]||0,comboNumb:n})}))}),[i,n,C,g]);return r.a.createElement(r.a.Fragment,null,S,r.a.createElement(u.l,{className:"emoji-container"},d.map((function(e,t){var n=e.time,a=e.src,c=e.id;return r.a.createElement(yn,{key:"".concat(n,"-").concat(t),src:a,position:c?I.indexOf(c):0})}))))})),An=Object(c.memo)((function(){return r.a.createElement(u.l,{className:"reactions-combo-wrapper"},Array.from({length:60}).map((function(e,t){return r.a.createElement(u.l,{key:"ro-animation-item-".concat(t),className:"animation-item-bubble",style:{animationName:"combo-bubble-".concat(nt.Number.random(-10,10))}},r.a.createElement(u.l,{className:"animation-item-wave",style:{backgroundColor:nt.Array.shuffle(kn).pop(),animationName:"combo-wave-".concat(nt.Number.random(-10,10))}}))})))})),kn=["#FF3C68","#FFC71D","#24F6FF","#1BFF94"],Cn=function(e){switch(e){case 1:return"Heart-Icon.png";case 2:return"Ballon-Icon.png";case 3:return"Music-Icon.png";default:return""}},In=Object(c.memo)((function(e){var t=e.btnUrl,n=e.onClick,l=e.sequence,i=e.comboReacts,o=e.comboNumb,m=e.vectorId,f=void 0===m?0:m,b=Cn(f),E=b?fn+b:t,O=Object(c.useState)(i>=5),v=Object(a.a)(O,2),j=v[0],p=v[1],g=Object(c.useRef)(i),h=Object(c.useState)([]),y=Object(a.a)(h,2),N=y[0],R=y[1],A=Object(c.useState)(""),k=Object(a.a)(A,2),C=k[0],I=k[1],T={color:nt.Array.shuffle(kn).pop()};Object(c.useEffect)((function(){s.a.getColor(E).then((function(e){return I(e)}))}),[E]),Object(c.useEffect)((function(){i>=5?p(!0):i<=0&&(g.current>=o&&R((function(e){return[].concat(Object(ie.a)(e),["key-show-".concat(Math.random())])})),p(!1)),g.current=i}),[i,o]);var P=Object(c.useMemo)((function(){return Math.min(i/o*100,100)}),[i,o]);return r.a.createElement(u.l,{className:"reaction-btn"},N.map((function(e){return r.a.createElement(An,{key:e})})),r.a.createElement(u.l,{className:"reaction-item"},r.a.createElement(u.l,{renderAs:"span",className:d()("reaction-combo",{show:j}),style:T},"x".concat(i)),r.a.createElement($e.a,{onClickFn:function(){return n(l,f)}},r.a.createElement(u.d,{className:d()({shake:i>=o})},r.a.createElement(gn.a,{fill:"transparent",progress:P,circleOneStroke:"transparent",circleTwoStroke:C,strokeWidth:8,timeAnimation:50}),r.a.createElement(u.t,{src:E,draggable:"false"})))))}));var Tn=function(e){var t,n,i,o=e.encodeId,s=Object(l.c)(B.s),m=Object(l.c)(B.b),f=Object(c.useRef)(0),b=Object(c.useState)([]),d=Object(a.a)(b,2),E=d[0],O=d[1],v=Object(c.useRef)([]),g=Object(c.useRef)(),h=Object(c.useState)(!1),y=Object(a.a)(h,2),N=y[0],R=y[1],A=Object(l.c)(B.v);Object(c.useEffect)((function(){var e=setInterval((function(){!function(){var e=Object(Xe.a)(Ke.a.mark((function e(t){var n,a,c,r,l,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.getCommentList(o,t,lt.NEWEST,50,pn.a.REACTION_COMBO);case 3:if(n=e.sent,a=n.data.items,!((c=void 0===a?[]:a).length>0)){e.next=26;break}f.current&&O((function(e){var t=c.filter((function(e){return!v.current.includes(e.id)}));return t.length?[].concat(Object(ie.a)(e),Object(ie.a)(t)):e})),r=Object(jn.a)(c),e.prev=9,r.s();case 11:if((l=r.n()).done){e.next=18;break}if(!((i=l.value).id>1)){e.next=16;break}return f.current=i.id,e.abrupt("break",18);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28],[9,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()(f.current)}),5e3);return function(){return clearInterval(e)}}),[f.current,o]),Object(c.useEffect)((function(){var e=function(e,t,n,a){v.current.push(e),O((function(c){return[].concat(Object(ie.a)(c),[{avatar:s,id:e,username:m,vipPackageTypes:A,content:{reactionId:t,reactionCount:n,reactionUrl:a}}])}))};return p.c.on(p.b.REACTIONS_COMBO_NOTIFY,e),function(){p.c.off(p.b.REACTIONS_COMBO_NOTIFY,e)}}),[s,m,A]),Object(c.useEffect)((function(){R(E.length>0)}),[E]),Object(c.useEffect)((function(){return N&&(g.current=setInterval((function(){O((function(e){return e.length>0?e.slice(1):[]}))}),4500)),function(){clearInterval(g.current)}}),[N]);var k=E[0];if(!k)return r.a.createElement(r.a.Fragment,null);var C=(k.vipPackageTypes||[]).length>0,I=null===(t=k.vipPackageTypes)||void 0===t?void 0:t.includes(j.rb.PREMIUM),T=kn.length,P={color:kn[k.id%T]},L=C?64:0;return r.a.createElement(u.l,{className:"combo-notify-wrapper",key:k.id},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(Le.b,{avatar:k.avatar,vipPackageTypes:k.vipPackageTypes,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{minusWidth:L},k.username),C&&r.a.createElement(u.q,{icon:I?r.a.createElement(_e.m,null):r.a.createElement(_e.j,null)})),r.a.createElement(u.l,{className:"combo"},r.a.createElement(u.l,{renderAs:"span",className:"text",style:P},"Combo"),r.a.createElement(u.t,{src:(null===(n=k.content)||void 0===n?void 0:n.reactionUrl)||"",rounded:!0}),r.a.createElement(u.l,{renderAs:"span",className:"count",style:P},"x",(null===(i=k.content)||void 0===i?void 0:i.reactionCount)||100,"!!")))))},Pn=(n(1711),Object(c.memo)((function(e){var t=e.item,n=Object(l.c)(We.d),i=Object(l.c)(We.e),o=Object(l.c)(We.j),m=Object(l.c)(We.k),f=Object(s.x)(),b=Object(a.a)(f,1)[0],d=Object(c.useState)(Boolean(document.fullscreenElement)),E=Object(a.a)(d,2),O=E[0],v=E[1];Object(c.useEffect)((function(){var e=function(){v(Boolean(document.fullscreenElement))};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]);return t?r.a.createElement(u.l,{className:"zm-live-middle-content"},r.a.createElement(u.l,{className:"top-info"},r.a.createElement(u.A,{className:"live-info"},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.host.thumbnail,size:50}),r.a.createElement(u.l,{className:"label"},"Live")),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"top"},r.a.createElement(u.M,null,t.title)),i&&r.a.createElement(u.l,{className:"bottom"},r.a.createElement(u.q,{icon:"radio"}),r.a.createElement(u.l,{className:"text"},i.title)))),r.a.createElement(u.l,{className:"stats"},r.a.createElement(u.l,{className:"mar-r-15 view"},r.a.createElement(u.q,{icon:"16-Views"}),r.a.createElement(on,{num:o})),r.a.createElement(u.l,{className:"view"},r.a.createElement(u.q,{icon:"16-Favorite"}),r.a.createElement(dn,{total:t.totalReaction||0})))),r.a.createElement(u.l,{className:"box-media-playing"},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"text"},"B\xe0i h\xe1t \u0111ang ph\xe1t"),r.a.createElement(vn,{song:n,bgColor:null===m||void 0===m?void 0:m.bgColor,thumbnail:(null===i||void 0===i?void 0:i.thumbnail)||""}))),(null===i||void 0===i?void 0:i.hasSongRequest)&&r.a.createElement(mn,{streamId:t.encodeId}),r.a.createElement(Tn,{encodeId:t.encodeId,key:t.encodeId}),r.a.createElement(u.y,{className:"action-group"},r.a.createElement(u.y.Item,null,r.a.createElement(ln,null)),r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:O?"20-Collapse":"20-Expand",title:O?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh",onClick:Fe.toggleFullScreen})),!O&&r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:"20-Arrow-Down",title:"\u0110\xf3ng",onClick:function(){b.toggleOpenFS()}})))):null}))),Ln=n(435),_n=(n(1712),function(e){var t=e.children,n=e.size,l=e.activeIndex,o=Object(c.useRef)(null),s=Object(c.useRef)(null),m=Object(c.useState)({height:0,slideHeight:0,y:0}),f=Object(a.a)(m,2),b=f[0],d=f[1],E=r.a.Children.toArray(t),O=Object(c.useRef)(null),v=Object(i.a)().height;Object(c.useEffect)((function(){var e,t;s.current&&o.current&&d({height:(null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect().height)+30,slideHeight:null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().height,y:0})}),[v,n]);var j=function(){var e=b.y+b.slideHeight;e>b.height-b.slideHeight&&(e=b.height-b.slideHeight),d(Object(le.a)(Object(le.a)({},b),{},{y:e}))},p=b.y>0,g=b.y<b.height-b.slideHeight;return Object(c.useEffect)((function(){if(O.current&&b.height>b.slideHeight){var e=O.current.getBoundingClientRect().height;(l+1)*e>b.slideHeight&&j()}}),[b.height]),r.a.createElement(u.l,{className:"scroll-container",domRef:o},r.a.createElement(u.l,{className:"content",domRef:s,style:{transform:"translateY(-".concat(b.y,"px)"),transition:"transform 0.5s"}},E.map((function(e,t){return r.a.createElement(u.l,{key:t,domRef:t===l?O:void 0},e)}))),p&&r.a.createElement(u.l,{className:"go-up-btn",onClick:function(){var e=b.y-b.slideHeight;e<b.slideHeight&&(e=0),d(Object(le.a)(Object(le.a)({},b),{},{y:e}))}},r.a.createElement(u.q,{icon:"go-up"})),g&&r.a.createElement(u.l,{className:"go-down-btn",onClick:j},r.a.createElement(u.q,{icon:"go-down"})))}),Sn=Object(c.memo)((function(){var e=Object(l.c)(We.c),t=Object(l.c)(We.i),n=Object(l.c)(We.g),i=Object(s.x)(),o=Object(a.a)(i,1)[0],m=Object(l.c)(We.b),f=Object(s.e)((function(){return Je.a.getList("promote","")})),b=Object(a.a)(f,2),d=b[0],E=b[1];Object(c.useEffect)((function(){E()}),[]);var O=function(e){o.playLivestream(e)},v=Object(c.useMemo)((function(){var e,t=(null===(e=d.value)||void 0===e?void 0:e.data.items)||[];return m&&!nt.Array.some(t,(function(e){return e.encodeId===m.encodeId}))&&t.unshift(m),t}),[m,d]),j=null===m||void 0===m?void 0:m.sectionId,p=v.findIndex((function(e){return e.encodeId===(null===m||void 0===m?void 0:m.encodeId)}));return r.a.createElement(u.l,{className:"zm-live-left-content"},v.length>0&&r.a.createElement(_n,{size:v.length,activeIndex:p},v.map((function(a){var c=a.encodeId===e,l=t&&c,i=n&&c;return a.sectionId=j,r.a.createElement(Ln.a,{key:a.encodeId,item:a,isBuffering:i,isPlaying:l,strokeWidth:5,playFn:O})}))))})),wn=(n(1713),Object(c.memo)((function(e){var t=e.item;return r.a.createElement(u.l,{className:"zm-floating-reaction"},r.a.createElement(Rn,{encodeId:t.encodeId,reactions:t.reactions,comboNumb:t.comboNumb}))}))),xn=(n(1714),Object(c.memo)((function(){var e=Object(l.c)(We.b),t=Object(l.c)(We.e),n=window.location.pathname;if(Object(c.useEffect)((function(){e&&window.history.replaceState({},e.title,e.link)}),[e]),Object(c.useEffect)((function(){return function(){window.history.replaceState({},"",n)}}),[]),!e)return null;var a=(null===t||void 0===t?void 0:t.thumbnailH)||e.thumbnailH;return r.a.createElement(u.l,{className:"zm-live-wrapper"},r.a.createElement(Sn,null),r.a.createElement(u.l,{className:"zm-live",style:{backgroundImage:"url(".concat(a,")")}},r.a.createElement(u.l,{className:"zm-live-opac"}),r.a.createElement(u.l,{className:"zm-live-content"},r.a.createElement(Pn,{item:e})),r.a.createElement(Ht,{item:e}),r.a.createElement(wn,{item:e})))}))),Mn=function(){var e=Object(l.c)(We.h),t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],u=n[1];return Object(c.useEffect)((function(){u(e)}),[e]),r.a.createElement(H.a,{in:i,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:"zm-video-animation"},r.a.createElement(xn,null))},Dn=(n(1715),Object(c.memo)((function(){var e=Object(l.c)(an),t=Object(l.b)();if(0===e)return r.a.createElement(r.a.Fragment,null);return r.a.createElement(u.l,{className:"alarm-countdown"},r.a.createElement(u.l,{renderAs:"span"},"Nh\u1ea1c s\u1ebd d\u1eebng sau:"),r.a.createElement(Un,{time:e}),r.a.createElement(u.P,{icon:"close",onClick:function(){t(Object(At.o)({type:j.G.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd"}))}))),Un=function(e){var t=e.time,n=Object(s.j)(0),a=n.seconds,l=n.setSeconds;return Object(c.useEffect)((function(){t>0&&l(t-Object(ut.currentTime)())}),[t]),r.a.createElement(u.l,{renderAs:"span",className:"countdown"},Object(ut.formatAlarmTime)(a))};n(1716);var qn=function(e){var t=e.thumbnail,n=e.title,a=e.subtitle,c=e.playFn,l=e.closeFn;return r.a.createElement(u.l,{className:"alarm-over-content"},r.a.createElement(u.l,null,"Th\u1eddi gian ph\xe1t nh\u1ea1c \u0111\xe3 k\u1ebft th\xfac, b\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c ph\xe1t b\xe0i h\xe1t n\xe0y?"),r.a.createElement(u.e,{className:"zm-card--song"},r.a.createElement(u.e.Image,null,r.a.createElement(u.x,{src:t})),r.a.createElement(u.e.Content,null,r.a.createElement(u.M,{renderAs:"h4"},n),r.a.createElement(u.M,{subtitle:!0},a))),r.a.createElement(u.l,{className:"modal-card-foot"},r.a.createElement(u.r,{className:"mar-t-10",text:"Ti\u1ebfp t\u1ee5c ph\xe1t",isSize:"medium",isActive:!0,fullwidth:!0,uppered:!0,type:u.a.OUTLINE,onClick:c}),r.a.createElement(u.r,{className:"mar-t-10",fullwidth:!0,uppered:!0,text:"B\u1ecf qua",onClick:l})))},Fn=Object(c.memo)((function(e){var t=e.playFn,n=void 0===t?function(){}:t,a=e.closeModalFn,c=Object(l.c)(z.d),i=Object(l.c)(We.b);if(null===c||void 0===c?void 0:c.encodeId){return r.a.createElement(qn,{thumbnail:c.thumbnailM,title:c.title,subtitle:c.artistsNames,playFn:function(){n(),a()},closeFn:a})}if(null===i||void 0===i?void 0:i.encodeId){return r.a.createElement(qn,{thumbnail:i.thumbnailV,title:i.title,subtitle:"",playFn:function(){window.ZMP3_LIVE_PLAYER.play(),a()},closeFn:a})}return null})),Yn=Object(c.memo)((function(){var e=Object(l.b)(),t=Object(l.c)(an),n=Object(s.z)(),a=n.Modal,i=n.show,u=n.hide,o=Object(l.c)(g.f),m=Object(c.useRef)(!1),b=Object(l.c)(f.h);return m.current=b,Object(c.useEffect)((function(){if(t-Object(ut.currentTime)()>0){var n=setInterval((function(){t-Object(ut.currentTime)()>0||(e(Object(Wt.b)()),clearInterval(n),(o.isPlaying()||m.current)&&i(),o.pause(),window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.isPlaying()&&(window.ZMP3_LIVE_PLAYER.pause(),i()),p.a.emit(p.b.ALARM_OVER_EVENT))}),1e3);return function(){return clearInterval(n)}}}),[t,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn,null),r.a.createElement(a,null,r.a.createElement(Fn,{closeModalFn:u,playFn:function(){return o.play()}})))})),Bn=n(608),zn=n(14),Qn=n(436),Hn=n(108),Vn=n(189),Gn=n(48),Wn=n(44),Zn=n(34),Kn=n(194),Xn=n(45),Jn=Object(c.memo)((function(e){var t=e.song;return r.a.createElement(u.l,{className:"control-song-item"},r.a.createElement(u.l,{className:"header"},"Ph\xe1t ti\u1ebfp theo"),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(Xn.q,{thumbnail:t.thumbnail,playSongFn:function(){},isPlaying:!1})),r.a.createElement(u.A.Content,null,r.a.createElement(Xn.j,{title:t.title,song:t,isTruncate:!0}),r.a.createElement(Xn.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators}))))})),$n=Object(c.memo)((function(e){var t=e.playNextSong,n=Object(l.b)(),i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],s=u[1],f=Object(l.c)(g.f),b=Object(l.c)(g.s),d=Object(l.c)(z.i),E=Object(l.c)(Y.c);Object(c.useEffect)((function(){var e=function(){s(!0)};return null===f||void 0===f||f.on(j.Q.PLAYER_ENDED,e),function(){null===f||void 0===f||f.off(j.Q.PLAYER_ENDED,e)}}),[f,b]),Object(c.useEffect)((function(){o&&(E?(p.c.emit(j.hb.SONG_LISTEN,{currentTime:f.getCurrentTime(),isPlayingPreview:!0}),n(Object(F.d)())):(t(!1),n(Object(m.d)())),s(!1))}),[o,E]);var O=Object(c.useMemo)((function(){return d?r.a.createElement(Jn,{song:d}):null}),[d]);return r.a.createElement(x.a,{name:"next",onClick:function(){t(!0),p.c.emit(p.b.PROMOTION_ZONE_TRIGGER,j.V.SKIP_SONG)},tooltipContent:O,tooltipClassName:"control-song--tooltip"})}));r.a.forwardRef((function(e,t){return r.a.createElement(u.l,{className:"auto-play",domRef:t},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement(u.l,{className:"text"},e.seconds))}));var ea=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(g.l),i=Object(l.c)(g.h),o=Object(s.C)(),m=Object(a.a)(o,1)[0],f=Object(l.c)(g.f),b=Object(l.c)(Y.a);Object(c.useEffect)((function(){n&&Object(Kn.a)(t.title,t.artistsNames)}),[n]);var d=Object(c.useCallback)((function(){return!!n}),[n]);Object(s.g)(d,[n]),Object(c.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.shiftKey&&e.keyCode===se.a.KEY_N?m.playNextSong(!0):e.shiftKey&&e.keyCode===se.a.KEY_P?m.playPrevSong():e.keyCode===se.a.SPACE?(e.preventDefault(),m.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(c.useEffect)((function(){var e;if(!Object(L.i)()&&navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;return n.metadata=new MediaMetadata({title:t.title,artist:t.artistsNames,album:null===(e=t.currentPlaylist)||void 0===e?void 0:e.title,artwork:[{src:t.thumbnailM,sizes:"96x96",type:"image/png"},{src:t.thumbnailM,sizes:"128x128",type:"image/png"},{src:t.thumbnailM,sizes:"192x192",type:"image/png"},{src:t.thumbnailM,sizes:"256x256",type:"image/png"},{src:t.thumbnailM,sizes:"384x384",type:"image/png"},{src:t.thumbnailM,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return m.togglePlay()})),n.setActionHandler("pause",(function(){return m.togglePlay()})),n.setActionHandler("previoustrack",(function(){return m.playPrevSong()})),n.setActionHandler("nexttrack",(function(){return m.playNextSong(!0)})),function(){n.setActionHandler("play",null),n.setActionHandler("pause",null),n.setActionHandler("previoustrack",null),n.setActionHandler("nexttrack",null)}}}),[t,n]),Object(c.useEffect)((function(){return f&&n&&(f.on(j.Q.PLAYER_BUFFERING,E),f.on(j.Q.PLAYER_BUFFERFULL,O)),function(){f&&n&&(m.isBufferingUpdate(!1),f.off(j.Q.PLAYER_BUFFERING,E),f.off(j.Q.PLAYER_BUFFERFULL,O))}}),[f,n]);var E=function(){m.isBufferingUpdate(!0)},O=function(){m.isBufferingUpdate(!1)};return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(u.c,null):r.a.createElement(x.a,{disabled:b,name:"play",title:n?"D\u1eebng":"Ph\xe1t",disabledTootip:!0,isHoverCircle:!1,onClick:function(e){e.preventDefault(),m.togglePlay()},icon:"".concat(n?"pause-circle-outline":"play-circle-outline")}))})),ta=Object(c.memo)((function(e){var t=e.playPrevSong,n=Object(l.c)(z.m),i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],s=u[1],m=Object(l.c)(g.f);Object(c.useEffect)((function(){return s(!1),n&&(null===m||void 0===m||m.on(j.Q.PLAYER_TIMEUPDATE,f)),function(){null===m||void 0===m||m.off(j.Q.PLAYER_TIMEUPDATE,f)}}),[n]);var f=function(e){s(e.current<5)};return r.a.createElement(x.a,{disabled:o,name:"pre",title:"Ph\xe1t l\u1ea1i",disabledTootip:!0,onClick:function(){return t()}})}));var na,aa=Object(c.memo)((function(){var e=Object(l.b)(),t=Object(l.c)(g.f),n=Object(l.c)(g.d),i=Object(l.c)(g.k),o=Object(l.c)(z.d),s=Object(c.useState)((null===t||void 0===t?void 0:t.getCurrentTime())||0),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(c.useState)({value:f,isSliding:!1}),E=Object(a.a)(d,2),O=E[0],v=E[1],h=Object(c.useRef)(!1),y=Object(c.useRef)(f),N=Object(l.c)(Y.a),R=Object(c.useRef)(N);R.current=N;var A=i&&(null===o||void 0===o?void 0:o.previewInfo)||{},k=A.startTime,C=void 0===k?0:k,I=A.endTime;Object(c.useEffect)((function(){if(C){var e=f+C;v({value:e,isSliding:!1}),b(e),null===t||void 0===t||t.seek(0)}}),[C,t]),Object(c.useEffect)((function(){var e=function(e){var t=e.current+C;b(t),y.current=t};return null===t||void 0===t||t.on(j.Q.PLAYER_TIMEUPDATE,e),function(){null===t||void 0===t||t.off(j.Q.PLAYER_TIMEUPDATE,e)}}),[t,C]),Object(c.useEffect)((function(){0===n&&b(0)}),[n]),Object(c.useEffect)((function(){var e=setInterval((function(){w.a.set(Qn.b.NP_CURRENT_TIME,y.current),p.a.emit(p.b.PLAYER_TIME,y.current)}),3e3);return function(){clearInterval(e)}}),[]);var T=n||1,_=O.isSliding?O.value:f;return(_>T||_<0||0===n)&&(_=0),r.a.createElement(u.y.Item,{className:"mar-b-5",onClick:L.b.preventDefault},r.a.createElement(u.l,{renderAs:"span",className:"time left"},L.f.formatTime(_)),r.a.createElement(u.H,{max:T,minAllow:C,maxAllow:I,value:_,onChange:function(t){i&&(I&&t>I||C&&t<C)?(h.current=!0,e(Object(At.o)({overlayClassName:j.o.UPGRADE_PREMIUM_MODAL,type:j.G.UPGRADE_PREMIUM,option:{text:"Theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n, b\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n PREMIUM \u0111\u1ec3 nghe tr\u1ecdn v\u1eb9n b\xe0i h\xe1t n\xe0y",utmMediumParam:oe.c.SEEK_PREVIEW,srcVip:j.jb.PLAYER_PREVIEW_LIMIT}}))):R.current||v({value:t,isSliding:!0})},onFinalChange:function(e){h.current||R.current?(h.current=!1,v({value:y.current,isSliding:!1})):(v({value:e,isSliding:!1}),t.seek(e-C),b(e))},direction:P.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"var(--progressbar-player-bg)",activeColor:"var(--progressbar-active-bg)"}),r.a.createElement(u.l,{renderAs:"span",className:"time right"},L.f.formatTime(n)))})),ca=n(37),ra=Object(c.memo)((function(e){var t=e.toggleRepeat,n=Object(l.c)(z.x);return r.a.createElement(x.a,{title:Object(Fe.getTextRepeat)(n),name:"repeat".concat(n===ca.REPEAT_MODE.ONE?"-one":""),active:!!n,onClick:t})}));!function(e){e[e.BACKWARD=0]="BACKWARD",e[e.FORWARD=1]="FORWARD"}(na||(na={}));var la=function(e){var t=e.type,n=Object(l.c)(g.f),a=function(){var e=(null===n||void 0===n?void 0:n.getCurrentTime())||0;n.seek(Math.max(e-15,0))},i=function(){var e=(null===n||void 0===n?void 0:n.getCurrentTime())||0,t=n.getDuration();n.seek(Math.min(e+30,t))},u=Object(c.useMemo)((function(){return t===na.FORWARD?{icon:"16-Nextward-30",onClick:i,tooltip:"Tua t\u1edbi 30 gi\xe2y"}:{icon:"16-Backward-15s",onClick:a,tooltip:"Tua l\xf9i 15 gi\xe2y"}}),[]);return r.a.createElement(x.a,{className:"seek-btn",name:u.icon,onClick:u.onClick,tooltipContent:u.tooltip})},ia=Object(c.memo)((function(e){var t=e.toggleShuffle,n=Object(l.c)(z.r);return r.a.createElement(x.a,{title:n?"T\u1eaft ph\xe1t ng\u1eabu nhi\xean":"B\u1eadt ph\xe1t ng\u1eabu nhi\xean",name:"shuffle",active:n,onClick:t})}));n(1717);var ua=Object(c.memo)((function(e){var t=e.playerAction,n=e.playingSong,c=e.onClick,l=Object(s.E)(),i=Object(a.a)(l,1)[0],o=n.episode;return r.a.createElement(u.y.Side,{align:"center",className:"player-controls__player-bar",onClick:function(){Object(O.a)("player_viewdetail_other"),c()}},r.a.createElement(u.y.Item,null,r.a.createElement(u.l,{className:"actions",onClick:L.b.preventDefault},o?r.a.createElement(la,{type:na.BACKWARD}):r.a.createElement(ia,{toggleShuffle:i.shuffle}),r.a.createElement(ta,{playPrevSong:t.playPrevSong}),r.a.createElement(ea,{song:n}),r.a.createElement($n,{playNextSong:t.playNextSong}),o?r.a.createElement(la,{type:na.FORWARD}):r.a.createElement(ra,{toggleRepeat:i.repeat}))),r.a.createElement(aa,null))})),oa=n(50),sa=n(285);n(1718);function ma(e){var t=e.song,n=Object(Ue.a)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1],m=Object(c.useRef)(null);if(Object(s.B)(m,(function(e){e||o(e)})),!t.encodeId)return r.a.createElement(r.a.Fragment,null);var f=Xn.d.filter((function(e){return e!==Xn.b.REMOVE_FROM_QUEUE}));return r.a.createElement(u.l,{renderAs:"span",domRef:m,id:"np_menu"},r.a.createElement(x.a,{title:"Xem th\xeam",name:"more",onClick:o}),i&&r.a.createElement(u.l,null,t.episode?r.a.createElement(sa.b,{song:t,hideContextMenu:o,isInQueue:!0,containerId:"np_menu",buttonsType:[Xn.b.COPY_LINK,Xn.b.SHARE]}):r.a.createElement(Xn.n,{song:t,hideContextMenu:o,isInQueue:!0,buttonsType:f,containerId:"np_menu"})))}r.a.memo(ma);var fa=n(79);var ba=Object(c.memo)((function(e){var t=e.playingSong,n=e.link,i=Object(c.useRef)(null),o=Object(c.useRef)(null),s=Object(c.useRef)(null),m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useState)(!1),O=Object(a.a)(E,2),v=O[0],j=O[1],p=Object(c.useState)(!1),h=Object(a.a)(p,2),y=h[0],N=h[1],R=Object(l.c)(g.l),A=Object(c.useRef)({}),k=Object(c.useRef)({}),C=Object(fa.checkIsVipMedia)(t);Object(c.useEffect)((function(){P(),N(!1),I()}),[t]),Object(c.useEffect)((function(){R?T():clearTimeout(k.current)}),[R]),Object(c.useEffect)((function(){b&&T()}),[b]),Object(c.useEffect)((function(){v||(clearTimeout(k.current),b?T():R&&(k.current=setTimeout((function(){T()}),5e3)))}),[v]);var I=function(){if(i.current){var e=0;s&&s.current&&(e=s.current.clientWidth),i.current.clientWidth>e&&N(!0)}},T=function(){if(y&&!v&&i.current){var e=i.current.clientWidth,t=5*e/200;o.current&&(o.current.style.transform="translateX(-".concat(e,"px)"),o.current.style.transition="transform ".concat(t,"s linear")),j(!0),A.current=setTimeout((function(){P()}),1e3*t)}},P=function(){o.current&&(o.current.style.transform="",o.current.style.transition=""),j(!1),clearTimeout(A.current)},L=Object(c.useCallback)((function(e){d(!1)}),[b]),_=Object(c.useCallback)((function(e){d(!0)}),[b]);return r.a.createElement(u.y.Side,{align:"left",domRef:s,className:"is-mark"},r.a.createElement(u.l,{className:"song-info-wrapper",onMouseLeave:L,onMouseEnter:_,domRef:o},r.a.createElement(u.l,{renderAs:"span",className:"song-title-item",domRef:i},r.a.createElement(oa.a,{to:n},r.a.createElement(Xn.j,{showVipLabel:C,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isHoverable:!0}))),y&&r.a.createElement(u.l,{renderAs:"span",className:"song-title-item"},r.a.createElement(oa.a,{to:n},r.a.createElement(Xn.j,{showVipLabel:C,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isHoverable:!0})))))}));n(1719);var da=function(e){var t=e.thumbnail,n=e.link,a=void 0===n?"/":n,c=e.onClick,l=r.a.createElement(u.l,{className:"thumbnail-wrapper",onClick:c},r.a.createElement(u.l,{className:"thumbnail"},r.a.createElement(u.x,{size:50,src:t})));return a?r.a.createElement(oa.a,{to:a},l):l},Ea=Object(c.memo)((function(e){var t=e.playingSong,n=e.onClick,a=Object(l.c)(z.f),c=Object(de.g)(),i=Object(s.p)().forceRefresh,o=t.episode,m=a?a.link:t.link,f=t.album;return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left",onClick:function(){Object(O.a)("player_viewdetail_songinfo"),n()}},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,{onClick:L.b.preventDefault},r.a.createElement(da,{thumbnail:t.thumbnailM,onClick:function(e){L.b.preventDefault(e),m!==c.location.pathname?c.push(m):i(m)}})),r.a.createElement(u.A.Content,null,o&&r.a.createElement(u.l,{className:"label"},r.a.createElement(u.q,{icon:r.a.createElement(_e.l,null)})),r.a.createElement(ba,{playingSong:t,link:m}),o&&f?r.a.createElement(u.M,{subtitle:!0},r.a.createElement(oa.a,{to:null===f||void 0===f?void 0:f.link,className:"is-ghost"},null===f||void 0===f?void 0:f.title)):r.a.createElement(Xn.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators,isTruncate:!0,onClick:L.b.preventDefault})),r.a.createElement(u.A.Right,{onClick:L.b.preventDefault},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,null,r.a.createElement(fe.e,{className:"zm-disable-transition",objectType:o?j.N.EPISODE:j.N.SONG,objectId:t.encodeId,object:t})),r.a.createElement(u.y.Item,null,r.a.createElement(ma,{song:t})))))))}));var Oa=Object(c.memo)((function(){var e=Object(s.C)(),t=Object(a.a)(e,1)[0],n=Object(l.c)(g.l),i=Object(l.c)(g.f),u=Object(l.c)(g.b),o=Object(l.c)(Zn.d),m=Object(c.useRef)(o);return Object(c.useEffect)((function(){if(o!==m.current&&(m.current=o,u&&u!==j.cb)){var e=(null===i||void 0===i?void 0:i.getCurrentTime())||0;t.isBufferingUpdate(!1);null===i||void 0===i||i.stop(),null===i||void 0===i||i.setupSource(u),null===i||void 0===i||i.once(j.Q.PLAYER_LOADEDMETADATA,(function(){t.isBufferingUpdate(!1),null===i||void 0===i||i.seek(e),n&&(null===i||void 0===i||i.play())}))}}),[u,i,o]),r.a.createElement(r.a.Fragment,null)})),va=n(275),ja=n(1581),pa=n(158);var ga=Object(c.memo)((function(){var e=Object(s.E)(),t=Object(a.a)(e,1)[0],n=Object(l.c)(z.p),i=Object(l.c)(pa.d),o=Object(l.b)();return Object(c.useEffect)((function(){var e;return i.type===j.c.FLY_ITEM_TO_QUEUE&&(e=setTimeout((function(){o(Object(At.r)())}),2e3)),function(){clearTimeout(e)}}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.g,{category:oe.a.NOW_PLAYING,action:"np_toggle",label:n?"off":"on",onClickFn:function(){return t.toggleIsOpen()},childrenProps:{className:d()(j.o.QUEUE_EXPAND_BUTTON,{active:n,"is-flash":i.type===j.c.FLY_ITEM_TO_QUEUE})}},r.a.createElement(u.O,{content:"Danh s\xe1ch ph\xe1t"},r.a.createElement(u.r,{renderAs:"div",icon:"list-music"}))))})),ha=(n(1720),[j.R.S05,j.R.S08,j.R.S10,j.R.S12,j.R.S15]),ya=Object(c.memo)((function(){var e=Object(l.c)(g.f),t=Object(s.C)(),n=Object(a.a)(t,1)[0],i=Object(l.c)(g.o),o=Object(Ue.a)(!1),m=Object(a.a)(o,2),f=m[0],b=m[1],d=Object(c.useRef)(null);return Object(s.B)(d,(function(e){e||b(e)})),Object(c.useEffect)((function(){e.setPlaybackRate(i)}),[i,e]),r.a.createElement(u.l,{className:"zm-speed-btn",domRef:d},r.a.createElement(u.d,{onClick:b},"".concat(i.toFixed(1),"x")),f&&r.a.createElement(u.B,{className:"speed-menu"},r.a.createElement(u.l,{className:"menu-header"},"Ch\u1ecdn t\u1ed1c \u0111\u1ed9 ph\xe1t"),r.a.createElement(u.B.List,null,ha.map((function(e){var t=e===i;return r.a.createElement(u.B.List.Item,{key:e,active:t},r.a.createElement(u.d,{onClick:function(){return n.changeSpeed(e)}},"".concat(e.toFixed(1),"x"),t&&r.a.createElement(u.q,{icon:"check",className:"mar-r-0"})))})))))}));n(1721);var Na=function(e){var t=e.playingSong,n=Object(va.a)(),a=n.playVideo,l=n.forceClear,i=Object(c.useCallback)((function(){a(t),l()}),[t]);return r.a.createElement(fe.g,{category:oe.a.PLAYER,action:"player_mv",onClickFn:i,component:function(e){return r.a.createElement(x.a,Object.assign({name:"mv",title:"MV",disabled:!t.mvlink},e))}})},Ra=function(e){var t=e.playingSong,n=Object(l.b)(),a=Object(l.c)(E.e);return r.a.createElement(fe.g,{category:oe.a.PLAYER,action:"player_lyric",onClickFn:function(){n(Object(V.g)({}))},component:function(e){return r.a.createElement(x.a,Object.assign({disabled:!t.hasLyric,name:"karaoke",title:a?"\u0110\xf3ng":"Xem l\u1eddi b\xe0i h\xe1t",active:a},e))}})},Aa=Object(c.memo)((function(e){var t=e.playingSong,n=e.onClick;return r.a.createElement(u.y.Side,{align:"right",className:"player-controls-right",onClick:function(){Object(O.a)("player_viewdetail_other"),n()}},t.episode?r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(ya,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(Na,{playingSong:t})),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(Ra,{playingSong:t}))),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(ja.a,{id:t.encodeId,thumbnail:t.thumbnailM})),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(M,null)),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(u.l,{renderAs:"span",className:"divide"})),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(ga,null)))}));n(1722);var ka=Object(c.memo)((function(){var e=Object(de.g)(),t=Object(l.b)(),n=Object(s.p)().forceRefresh,i=Object(s.k)().startCrossFade,b=Object(s.n)().startFadeout,v=Object(l.c)(g.f),h=Object(l.c)(g.g),y=Object(c.useRef)(v),N=Object(l.c)(Zn.f),R=Object(l.c)(Zn.c),A=Object(l.c)(g.i),k=Object(c.useRef)(A);k.current=A;var C=Object(c.useRef)(!1),I=Object(s.C)(),T=Object(a.a)(I,1)[0],P=Object(l.c)(z.d)||{},_=Object(l.c)(z.u),S=Object(l.c)(z.A),x=Object(l.c)(g.q),M=Object(l.c)(g.c)||"",D=Object(l.c)(Z.e),U=Object(l.c)(E.e),q=Object(l.c)(g.a),Q=Object(l.c)(f.h),H=Object(l.c)(g.s),V=Object(l.c)(g.e),W=Object(l.c)(g.o),K=Object(c.useRef)(),X=Object(c.useRef)(0),J=Object(c.useState)(!1),$=Object(a.a)(J,2),ee=$[0],te=$[1],ne=Object(c.useRef)(Date.now()),ae=Object(c.useRef)(!1),ce=Object(l.c)(f.j),re=Object(l.c)(f.f),ue=Object(l.c)(f.i),se=Object(l.c)(f.c),me=Object(l.c)(B.f),fe=Object(l.c)(Zn.d),be=Object(c.useRef)(),Ee=Object(l.c)(z.w),Oe=Object(l.c)(Zn.g),ve=Object(c.useRef)(!1),je=Object(c.useRef)(0),pe=Object(c.useRef)(0),ge=Object(c.useRef)({lastUpdate:Object(ut.currentTime)(),p128:"",playing:"",encodeId:""}),he=Object(c.useRef)(M),ye=Object(c.useRef)(!1),Ne=Object(c.useRef)(),Re=Object(l.c)(B.d),Ae=Object(c.useRef)({}),ke=Object(c.useRef)(0),Ce=Object(l.c)(B.q),Ie=Object(l.c)(g.k),Te=Object(c.useRef)({}),Pe=Object(c.useState)(!1),Le=Object(a.a)(Pe,2),_e=Le[0],Se=Le[1],we=Object(l.c)(Y.c),xe=Object(c.useRef)(!1),Me=Ie||_e?o.j:R;Object(c.useEffect)((function(){var e=setInterval((function(){ke.current=0}),6e4);return function(){clearInterval(e)}}),[]),Object(c.useEffect)((function(){var e=!1;_&&(e=!P.episode&&!P.isIntro&&!_.episode&&!_.isIntro),te(e)}),[P,_]),Object(c.useEffect)((function(){he.current=M}),[M]),Object(c.useEffect)((function(){k.current&&(Date.now()-ne.current<Me*o.l?ne.current-=Me*o.l:p.c.emit(p.b.PLAYER_REMOVE_CROSS_FADE))}),[P]);var De=function(){L.q.debug("PlayerControls | onPlay"),T.play()},Ue=function(){L.q.debug("PlayerControls | onPause"),T.pause(),Object(Kn.q)(),p.c.emit(p.b.PLAYER_REMOVE_CROSS_FADE)},qe=function(e){var n;if(Ie)L.q.error(-999,"PLAYER ERROR | VIP PREVIEW SOURCE ",P.encodeId,P.title,M);else{var a;if(fe!==j.E.P128&&x.p128&&!(null===(n=Ae.current[P.encodeId])||void 0===n?void 0:n.error))Ae.current[P.encodeId]={error:!0,numb:0},ke.current<50&&(L.q.error(-999,"PLAYER ERROR | SOURCE ",P.encodeId,P.title,M),y.current.stop(),y.current.setupSource(x.p128));else if(t(Object(At.p)({status:j.db.ERROR,text:j.F.GET_STREAMING_ERROR})),ke.current<50)L.q.error(-999,"PLAYER ERROR | SOURCE 2 ",P.encodeId,P.title,M),(null===(a=Ae.current[P.encodeId])||void 0===a?void 0:a.numb)||(Ae.current[P.encodeId]={error:!0,numb:1},T.playNextSong(!1));ke.current++,ke.current<50&&T.trackingError(e)}},Ye=Object(c.useCallback)(Object(Xe.a)(Ke.a.mark((function e(){var t,n,a,c,r,l,i,u,o,s,m,f,b,d,E;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&ee){e.next=2;break}return e.abrupt("return");case 2:if(Ie){e.next=5;break}if(Re&&N){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,Se(!1),n={},ge.current.encodeId!==_.encodeId){e.next=12;break}t=Object(le.a)({},ge.current),e.next=27;break;case 12:if(ae.current=!1,!L.c.checkCanPlayFully(_,Ce)){e.next=22;break}return e.next=16,Hn.SongService.getStreaming(_.encodeId);case 16:return a=e.sent,e.next=19,L.d.buildSource(a);case 19:t=e.sent,e.next=27;break;case 22:return e.next=24,Hn.SongService.getVipPreviewInfo(_.encodeId);case 24:c=e.sent,r=c.data||{},l=r.link,i=void 0===l?"":l,u=r.startTime,o=void 0===u?-1:u,s=r.endTime,m=void 0===s?-1:s,f=r.bumperAudio,b=void 0===f?{}:f,i&&o>=0&&m>o&&(n=Object(le.a)(Object(le.a)({},b),{},{encodeId:_.encodeId}),Se(!0),Te.current[_.id]=!0,t={lastUpdate:Object(ut.currentTime)(),p128:i});case 27:t&&(d=t.p128||"",(E=t["p".concat(fe)])&&E!==j.cb&&(d=E),ge.current=Object(le.a)(Object(le.a)(Object(le.a)({},t),n),{},{playing:d,encodeId:_.encodeId}),ae.current=!1,Ne.current&&clearInterval(Ne.current),Ne.current=setInterval((function(){ye.current&&(h.setupSource(d),clearTimeout(Ne.current))}),100)),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),L.q.error(j.t.UNKNOWN,"setupSourceForSecPlayer | getStreaming | encodeId | err:",_.encodeId,_.title,_.link,e.t0);case 33:case"end":return e.stop()}}),e,null,[[5,30]])}))),[h,_,ee,fe,N,Ie]);Object(c.useEffect)((function(){var e=function(){h.pause(),h.seek(0),ae.current=!0};return h.on(j.Q.PLAYER_LOADEDMETADATA,e),function(){h.off(j.Q.PLAYER_LOADEDMETADATA,e)}}),[h,_]),Object(c.useEffect)((function(){C.current=!1}),[V,_]),Object(c.useEffect)((function(){if(S>0){var e=w.a.get(Qn.b.NP_CURRENT_TIME);L.q.debug("Player | DEBUG | get stored current time",e),null===v||void 0===v||v.seek(e)}return function(){w.a.set(Qn.b.NP_CURRENT_TIME,0)}}),[]);var Be=Object(c.useCallback)((function(e,t){void 0===e||void 0===t?(ve.current=!1,je.current=0,pe.current=0):(ve.current=!0,je.current=e,pe.current=t)}),[]),ze=Object(c.useCallback)((function(e){Be();var t=e.split("?")[0],n=JSON.parse(sessionStorage.getItem(t));if(n){var a=n.front,c=n.rear;Be(Number(a),Number(c))}else L.d.gaplessPositionAudioFile(e,(function(e,n,a){he.current===a&&(Be(e,n),sessionStorage.setItem(t,JSON.stringify({front:e,rear:n})))}))}),[]);if(Object(c.useEffect)((function(){L.q.info("source change",M),C.current=!1,v||window.location.reload();var e=function(){ye.current=!0,ze(M),be.current&&clearTimeout(be.current),T.isBufferingUpdate(!1),q&&v.play()},t=function(){T.pause()};return null===v||void 0===v||v.on(j.Q.PLAYER_STOP,t),null===v||void 0===v||v.stop(),M&&(Be(),null===v||void 0===v||v.on(j.Q.PLAYER_LOADEDMETADATA,e),be.current&&clearTimeout(be.current),be.current=setTimeout((function(){T.isBufferingUpdate(!0)}),700),ye.current=!1,null===v||void 0===v||v.setupSource(M),3===Fe.xhrGapless.readyState&&Fe.xhrGapless.abort(),null===v||void 0===v||v.setPlaybackRate(W)),function(){null===v||void 0===v||v.off(j.Q.PLAYER_LOADEDMETADATA,e),null===v||void 0===v||v.off(j.Q.PLAYER_STOP,t)}}),[H,ze]),Object(c.useEffect)((function(){P.resumePoint&&!P.resumePoint.isFinished&&(0===w.a.get(Qn.b.NP_CURRENT_TIME)&&v.seek(P.resumePoint.resumePosition));return function(){w.a.set(Qn.b.NP_CURRENT_TIME,0)}}),[P]),Object(c.useEffect)((function(){return K.current=setTimeout(Ye,A?Me*o.l:0),function(){K.current&&clearTimeout(K.current)}}),[_,Ye,A]),Object(c.useEffect)((function(){var e=!Ie&&!me&&re&&Object(ut.currentTime)()-ce>f.b&&ue&&se>=f.a-1;xe.current=!1;var n=function(n){n.current>0&&(Ae.current[P.encodeId]={error:!1,numb:0});var a=P.duration;a!==X.current&&(X.current=a,T.durationUpdate(a));var c=n.total-n.current;if(Oe&&ve.current&&!Ie&&(n.current<je.current&&!k.current&&v.seek(je.current),c<=pe.current))return Be(),p.c.emit(j.hb.SONG_LISTEN,{currentTime:v.getDuration(),isPlayingPreview:Ie}),T.playNextSong(!1),void t(Object(m.d)());if(!e)if(we)n.total>Me&&c<=o.j&&!xe.current&&(xe.current=!0,b(v,P.id,c*o.l));else if((N||Ie)&&ee&&n.total>Me&&c<=Me&&!C.current&&ae.current){p.c.count(j.hb.SONG_LISTEN)&&p.c.emit(j.hb.SONG_LISTEN,{currentTime:v.getDuration(),isPlayingPreview:Ie}),Ie||t(Object(m.d)()),ge.current.playing&&(he.current=ge.current.playing,ze(ge.current.playing));var r=Object(le.a)({},ge.current),l=(r.playing,r.encodeId,Object(zn.a)(r,["playing","encodeId"]));if(t(Object(Gn.i)(l)),h.play(),C.current=!0,k.current=!0,ne.current=Date.now(),i(h,v,c*o.l),t(Object(F.b)(ge.current.bumperAudio||{})),_){if(t(Object(Vn.d)(_)),_.id)t(Object(Wn.f)(_.id)),t(Object(Gn.n)(!!Te.current[_.id]));else{var u=Object(Bn.a)(Ee),s=u[0],f=u.slice(1),d=L.e.buildSongId(s);t(G.h({items:[d].concat(Object(ie.a)(f)),addSuccessful:function(){t(Object(Wn.f)(d.id))}}))}var E=Date.now();p.c.once(j.hb.SONG_LISTEN,(function(e){t(Object(O.k)(_,Object(le.a)(Object(le.a)({},e),{},{timestamp:E}))),Object(O.a)(oe.a.SONG,"play",_.title)})),Object(Kn.a)(_.title,_.artistsNames)}t(Object(Gn.l)())}};return null===v||void 0===v||v.on(j.Q.PLAYER_TIMEUPDATE,n),function(){null===v||void 0===v||v.off(j.Q.PLAYER_TIMEUPDATE,n)}}),[v,Me,N,ee,ce,re,ue,_,se,me,Ee,Oe,ze,Ie,we]),Object(c.useEffect)((function(){var e=function(){var e=Object(Xe.a)(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.current){e.next=6;break}return K.current&&clearTimeout(K.current),t(Object(Gn.m)(!1)),p.c.emit(p.b.PLAYER_REMOVE_CROSS_FADE),e.next=6,Ye();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===v||void 0===v||v.on(j.Q.PLAYER_SEEKING,e),function(){null===v||void 0===v||v.off(j.Q.PLAYER_SEEKING,e)}}),[v,Ye]),Object(c.useEffect)((function(){y.current=v;var e=function(e){var t=e.duration;Ie?T.durationUpdate(P.duration):T.durationUpdate(t)};return null===v||void 0===v||v.on(j.Q.PLAYER_LOADEDMETADATA,e),null===v||void 0===v||v.on(j.Q.PLAYER_PLAY,De),null===v||void 0===v||v.on(j.Q.PLAYER_PAUSE,Ue),M&&(null===v||void 0===v||v.on(j.Q.PLAYER_ERROR,qe)),function(){null===v||void 0===v||v.off(j.Q.PLAYER_LOADEDMETADATA,e),null===v||void 0===v||v.off(j.Q.PLAYER_PLAY,De),null===v||void 0===v||v.off(j.Q.PLAYER_PAUSE,Ue),null===v||void 0===v||v.off(j.Q.PLAYER_ERROR,qe)}}),[H,v,Ie]),!S||D)return r.a.createElement(Oa,null);var Qe=function(){var t=P.currentPlaylist?P.currentPlaylist.link:P.link;t!==e.location.pathname?e.push(t):n(t)};return r.a.createElement(u.l,{className:d()("player-controls clickable",{opac:U,hidden:Q})},r.a.createElement(u.y,{className:"player-controls__container"},r.a.createElement(Ea,{playingSong:P,onClick:Qe}),r.a.createElement(ua,{playingSong:P,playerAction:T,onClick:Qe}),r.a.createElement(Aa,{playerAction:T,playingSong:P,onClick:Qe})),r.a.createElement(Oa,null))}));function Ca(e){var t=e.item,n=Object(Ue.a)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1],m=Object(c.useRef)(null);return Object(s.B)(m,(function(e){e||o(e)})),t.encodeId?r.a.createElement(u.l,{renderAs:"span",domRef:m,id:"np_menu"},r.a.createElement(u.r,{title:"Xem th\xeam",name:"more",icon:"more",onClick:o}),i&&r.a.createElement(u.l,null,r.a.createElement(u.k,{className:"song-menu"},r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(fe.c,{object:t})),r.a.createElement(u.B.List.Item,null,r.a.createElement(fe.i,{containerId:"np_menu",object:t,type:j.N.LIVESTREAM})))))):r.a.createElement(r.a.Fragment,null)}r.a.memo(Ca);var Ia=Object(c.memo)((function(e){var t=e.item,n=Object(l.b)(),i=Object(l.c)(We.e),o=Object(l.c)(We.i),m=Object(l.c)(We.j),f=Object(s.x)(),b=Object(a.a)(f,1)[0],d=Object(c.useRef)(!1),E=Object(c.useCallback)(Object(Xe.a)(Ke.a.mark((function e(){var a,c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.getInfo(t.encodeId);case 3:if(a=e.sent,!(c=a.data)){e.next=12;break}if(c.status!==ca.TLivestreamStatus.ENDED){e.next=10;break}return b.clearLivestream(),n(Object(At.o)({type:j.G.LIVESTREAM_ENDED,option:c})),e.abrupt("return");case 10:b.setActiveUsers(c.activeUsers),d.current&&t.streaming===c.streaming||(d.current=!0,b.updateLivestream(c));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),L.q.error(e.t0.err,"getLiveStreamInfo | item.encodeId | link",t.encodeId,t.link);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[t]),v=Object(c.useCallback)((function(){return b.syncCurrentProgram()}),[]),p=Object(c.useCallback)((function(){i&&(new Date).getTime()/1e3>i.endTime&&b.syncPrograms()}),[i]),g=Object(c.useCallback)((function(){o&&Je.a.putCCU(t.encodeId)}),[t,o]),h=Object(c.useCallback)((function(){o&&Object(O.a)(oe.a.LIVE_STREAM,"play",t.title)}),[t,o]);Object(c.useEffect)((function(){d.current=!1,E(),b.syncPrograms()}),[null===t||void 0===t?void 0:t.encodeId]),Object(c.useEffect)((function(){v()}),[null===i||void 0===i?void 0:i.encodeId]),Object(Vt.a)((function(){h()}),6e4),Object(Vt.a)((function(){E(),v(),g(),p()}),1e4);return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,{onClick:L.b.preventDefault},r.a.createElement(da,{thumbnail:t.thumbnail,onClick:function(){b.toggleOpenFS(!0)}})),r.a.createElement(u.A.Content,{onClick:L.b.preventDefault},r.a.createElement(u.M,null,t.title," "),r.a.createElement(u.l,{className:"top"},r.a.createElement(u.l,{renderAs:"span",className:"label"},r.a.createElement(u.q,{icon:r.a.createElement(_e.g,null)})),Object(un.a)(m)," \u0111ang nghe")),r.a.createElement(u.A.Right,{className:"mar-l-15",onClick:L.b.preventDefault},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,null,r.a.createElement(Ca,{item:t})))))))})),Ta=function(e){var t=e.media,n=t.title,a=t.artists,c=t.link,l=t.episode,i="".concat(n).concat(a&&" - ".concat(On(t)));return c&&!l?r.a.createElement(oa.a,{to:c},i):r.a.createElement(u.l,null,i)},Pa=Object(c.memo)((function(e){var t=e.item,n=e.togglePlay,a=e.isPlaying,i=e.isBuffering,o=Object(l.c)(We.d),s=Object(l.c)(We.e);return Object(c.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.keyCode===se.a.SPACE?(e.preventDefault(),window.ZMP3_LIVE_PLAYER.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(c.useEffect)((function(){var e;if(navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;n.metadata=new MediaMetadata({title:t.title,artist:null===t||void 0===t||null===(e=t.host)||void 0===e?void 0:e.name,artwork:[{src:t.thumbnail,sizes:"96x96",type:"image/png"},{src:t.thumbnail,sizes:"128x128",type:"image/png"},{src:t.thumbnail,sizes:"192x192",type:"image/png"},{src:t.thumbnail,sizes:"256x256",type:"image/png"},{src:t.thumbnail,sizes:"384x384",type:"image/png"},{src:t.thumbnail,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()})),n.setActionHandler("pause",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()}));var a=function(){};n.setActionHandler("previoustrack",a),n.setActionHandler("nexttrack",a)}}),[t,a]),r.a.createElement(u.y.Side,{align:"center"},r.a.createElement(u.l,{className:"control-action",onClick:L.b.preventDefault},r.a.createElement(u.r,{icon:"repeat",disabled:!0}),r.a.createElement(u.r,{icon:"pre",disabled:!0}),i?r.a.createElement(u.c,null):r.a.createElement(u.r,{onClick:n,icon:a?"pause-circle-outline":"play-circle-outline"}),r.a.createElement(u.r,{icon:"next",disabled:!0}),r.a.createElement(u.r,{icon:"shuffle",disabled:!0})),r.a.createElement(u.l,{className:"control-text",onClick:L.b.preventDefault},r.a.createElement(u.l,{className:"content"},r.a.createElement(W,{isPlaying:a},o?r.a.createElement(Ta,{media:o}):null===s||void 0===s?void 0:s.title)),o&&o.encodeId&&!o.episode&&r.a.createElement(fe.e,{object:o,objectId:o.encodeId,disableAnimation:!0,objectType:j.N.SONG})))})),La=(n(1723),{start:0,playTime:0}),_a=function(e){var t=e.item,n=Object(s.E)(),c=Object(a.a)(n,1)[0],o=Object(l.c)(z.p);Object(i.a)().width;return r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(ja.b,{id:t.encodeId,thumbnail:t.thumbnailM})),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(M,null)),r.a.createElement(u.y.Item,{narrow:!0,onClick:L.b.preventDefault},r.a.createElement(u.d,{className:d()("queue-toggle-btn",{active:o}),onClick:function(){return c.toggleIsOpen()}},"L\u1ecbch ph\xe1t s\xf3ng")))},Sa=Object(c.memo)((function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(0),n=Object(c.useRef)(!1),i=Object(s.x)(),o=Object(a.a)(i,1)[0],m=Object(l.c)(g.r),f=Object(l.c)(We.b),b=Object(l.c)(We.i),d=Object(l.c)(We.g),E=Object(l.c)(We.a),O=Object(l.c)(g.f),v=Object(c.useRef)(function(){var e=w.a.get("tracking_live_key");return e&&(e.start=0),e||Object(le.a)({},La)}());n.current=E,Object(c.useEffect)((function(){if(f){var e=window.ZMP3_LIVE_PLAYER=Object(Fe.initZPLayer)("audio/x-mpegURL",f.streaming);o.setBuffering(!0);var a=function(){v.current.start>0&&(v.current.playTime+=(new Date).getTime()-v.current.start)},c=function(){o.setPlaying(!0);var n=e.getCurrentTime();v.current.start=(new Date).getTime(),t.current-n>20&&e.playback.seek(t.current)},r=function(){e.setVolume(m),n.current&&e.play(),o.setBuffering(!1)},l=function(){o.setPlaying(!1),a(),v.current.start=0},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L.q.error(0,"Live Stream Player ",e.code)},u=function(n){var a=e.getCurrentTime(),c=(n||{}).current,r=void 0===c?0:c;t.current=r,e.isPlaying()&&(r-a>60||a>r)&&e.playback.seek(r-5)},s=function(){return o.setBuffering(!0)},b=function(){return o.setBuffering(!1)};e.once(j.Q.PLAYER_LOADEDMETADATA,r),e.on(j.Q.PLAYER_PLAY,c),e.on(j.Q.PLAYER_PAUSE,l),e.on(j.Q.PLAYER_ERROR,i),e.on(j.Q.PLAYER_BUFFERING,s),e.on(j.Q.PLAYER_BUFFERFULL,b),e.once(j.Q.PLAYER_STOP,l),e.on(j.Q.PLAYER_PROGRESS,u);var d=setInterval((function(){v.current.start>0&&(a(),v.current.start=(new Date).getTime(),w.a.set("tracking_live_key",v.current))}),5e3);return function(){clearInterval(d),a(),o.trackLivestream(f,v.current.playTime),v.current=Object(le.a)({},La),w.a.remove("tracking_live_key"),e.off(j.Q.PLAYER_LOADEDMETADATA,r),e.off(j.Q.PLAYER_PLAY,c),e.off(j.Q.PLAYER_PAUSE,l),e.off(j.Q.PLAYER_ERROR,i),e.off(j.Q.PLAYER_BUFFERING,s),e.off(j.Q.PLAYER_BUFFERFULL,b),e.off(j.Q.PLAYER_STOP,l),e.off(j.Q.PLAYER_PROGRESS,u),t.current=0;try{e.stop(),e.destroy()}catch(n){}}}return function(){}}),[null===f||void 0===f?void 0:f.encodeId,null===f||void 0===f?void 0:f.streaming]),Object(c.useEffect)((function(){window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.setVolume(m)}),[m]),Object(c.useEffect)((function(){var e=function(){o.clearLivestream()};return O.on(j.Q.PLAYER_PLAY,e),function(){O.off(j.Q.PLAYER_PLAY,e),o.setPlaying(!1),o.setAutoPlay(!1)}}),[O]);return f?r.a.createElement(u.l,{className:"zm-ls-control-bar player-controls clickable",onClick:function(){o.toggleOpenFS(!0)}},r.a.createElement(u.y,null,r.a.createElement(Ia,{item:f}),r.a.createElement(Pa,{togglePlay:function(){window.ZMP3_LIVE_PLAYER.togglePlay()},isPlaying:b,isBuffering:d,item:f}),r.a.createElement(_a,{item:f})),r.a.createElement(u.l,{domRef:e})):r.a.createElement(r.a.Fragment,null)})),wa=(n(1724),n(1628),Object(c.memo)((function(e){var t=e.children,n=e.className,a=Object(l.c)(z.p),i=Object(c.useRef)(null);return Object(c.useRef)(null).current=document.getElementsByClassName("player-controls")[0],r.a.createElement(H.a,{in:a,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},r.a.createElement(u.l,{domRef:i,className:d()("player-queue",n)},r.a.createElement(u.l,{className:"player-queue__container"},t)))}))),xa=Object(c.memo)((function(){var e=Object(s.C)(),t=Object(a.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"empty-img"}),r.a.createElement(u.l,{className:"empty-queue"},r.a.createElement(u.l,{className:"content"},"Kh\xe1m ph\xe1 th\xeam c\xe1c b\xe0i h\xe1t m\u1edbi c\u1ee7a Zing MP3"),r.a.createElement(u.r,{type:u.a.OUTLINE,icon:"play",text:"Ph\xe1t nh\u1ea1c m\u1edbi ph\xe1t h\xe0nh",isActive:!0,onClick:function(){t.playList(j.x.BY_PLAYLIST,j.I,100)}})))})),Ma=n(417),Da=n(1798),Ua=n(170);var qa=Object(c.memo)((function(e){var t=e.currentPlaylist,n=e.listInfo,a=Object(l.b)(),c=Object(de.h)(),i=n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"T\u1eeb danh s\xe1ch b\xe0i h\xe1t"),r.a.createElement(oa.a,{to:n.link,onClick:function(e){var t;(n&&c.pathname===n.link&&e.preventDefault(),null===n||void 0===n?void 0:n.scrollTo)&&(null===n||void 0===n||null===(t=n.afterClickFn)||void 0===t||t.call(n),a(Object(Ua.d)(n.scrollTo)))}},r.a.createElement(u.L,null,n.title))):t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"T\u1eeb ",t.isAlbum?"album":"playlist"),r.a.createElement(oa.a,{to:t.link},r.a.createElement(u.L,null,t.title))):r.a.createElement(r.a.Fragment,null);return r.a.createElement(u.l,{className:"next-songs"},r.a.createElement(u.M,{size:6},"Ti\u1ebfp theo"),(n||t)&&r.a.createElement(u.M,{subtitle:!0,size:6},i))}));var Fa=Object(c.memo)((function(e){var t=e.song,n=e.playSong,i=e.isActive,o=e.isPlaying,m=e.isBuffering,f=e.isPreItem,b=e.menuButtonTypes,E=void 0===b?Xn.d:b,O=e.actionButtonTypes,v=void 0===O?Xn.a:O,p=e.gaPlayAction,g=void 0===p?oe.d.PLAY_SONG:p,h=e.titleWidth,y=e.isSimsong,N=void 0!==y&&y,R=Object(l.b)(),A=Object(s.C)(),k=Object(a.a)(A,1)[0],C=Object(s.i)({containerId:j.p.QUEUE_SCROLL,marginBottom:90}),I=C.ref,T=C.ContextMenu,P=C.handleContextMenu,L=C.hideContextMenu,_=C.isShowContextMenu,S=Object(l.c)(z.g),w=Object(c.useRef)(S);w.current=S,Object(s.d)(t.tracking,I);var x=function(){var e=Object(le.a)({},t);if(N&&!e.simPos){var a=w.current+1;e.simPos=a,R(Object(Wn.w)(a))}n?n(e):(k.playSong(e,{isClearQueue:!1}),Object(Gt.b)(g))},M=Object(fa.checkIsVipMedia)(t),D=Object(c.useMemo)((function(){return t.episode?{typeButtons:[Xn.b.MORE],songMenu:sa.a,subtitle:r.a.createElement(u.M,{subtitle:!0,className:"is-one-line"},r.a.createElement(u.l,{renderAs:"span",className:"artist-names"},t.album&&r.a.createElement(En.b,{to:t.album.link,className:"is-ghost"},t.album.title)),t.duration>0&&r.a.createElement(r.a.Fragment,null," \u2022 ",Object(ut.secondToMinute)(t.duration)))}:{typeButtons:v,songMenu:void 0,subtitle:r.a.createElement(Xn.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators,isHoverable:!1,isTruncate:!0,className:"artist-names"})}}),[t]),U=Object(c.useCallback)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.z.Item,{className:d()("media-item full-left"),onDoubleClick:x,ref:I},r.a.createElement(u.A,{className:d()({"is-pre":f,"is-active":i,"is-show-menu":_})},r.a.createElement(u.A.Left,null,r.a.createElement(Xn.q,{link:t.link,thumbnail:t.thumbnail,title:t.title,isPlaying:o,isBuffering:m,isActive:i,playSongFn:x}),r.a.createElement(u.l,{className:"card-info"},r.a.createElement(Xn.j,{titleWidth:h,title:t.title,showVipLabel:M,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isTitleLink:!0,isHoverable:!1,isTruncate:!0,playSongFn:x}),D.subtitle)),r.a.createElement(u.A.Right,null,r.a.createElement(u.y,null,r.a.createElement(Xn.h,{song:t,typeButtons:D.typeButtons,handleContextMenu:P,playSong:x}))))),r.a.createElement(T,null,r.a.createElement(Xn.n,{buttonsType:E,song:t,hideContextMenu:L,isInQueue:!0,Component:D.songMenu})))}),[t,i,o,m,f,_]);return r.a.createElement(r.a.Fragment,null,U())})),Ya=n(19),Ba=n.n(Ya),za=n(24);var Qa=Object(c.memo)((function(){return r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(za.h,{className:"song-thumb"},r.a.createElement(Ba.a,{width:40,height:40,duration:2})),r.a.createElement(za.h,{className:"card-info"},r.a.createElement(Ba.a,{width:"80%",height:10,duration:2}),r.a.createElement(Ba.a,{width:"50%",height:10,duration:2}))),r.a.createElement(u.A.Right,null,r.a.createElement(Ba.a,{width:20,height:20,duration:2,circle:!0,style:{marginLeft:"15px",marginRight:"10px"}})))})),Ha=n(129),Va=(n(1725),n(70));var Ga=Object(c.memo)((function(e){var t=e.className,n=e.song;return r.a.createElement(Fa,{isSimsong:!0,className:t,song:n,menuButtonTypes:Va.h,actionButtonTypes:Va.c,isActive:!1,isPlaying:!1,isBuffering:!1,gaPlayAction:oe.d.PLAY_SIMILAR})}));var Wa=Object(c.memo)((function(e){var t=e.items,n=Object(c.useCallback)((function(){return t.map((function(e){return function(e){return r.a.createElement(Ga,{key:"recommend.item.".concat(e.encodeId),song:e})}(e)}))}),[t]);return L.q.debug("RecommendList render"),r.a.createElement(u.z,{className:"player-queue__list"},n())}));var Za=Object(c.memo)((function(e){var t=e.lastEncodeId,n=e.isPodcast,i=void 0!==n&&n,o=Object(s.E)(),m=Object(a.a)(o,1)[0],f=Object(l.c)(z.w),b=Object(l.c)(z.a),E=Object(c.useState)(!1),O=Object(a.a)(E,2),v=O[0],g=O[1],h=Object(c.useRef)(null),y=Object(c.useRef)(null),N=Object(l.c)(z.c),R=Object(c.useRef)(N),A=Object(c.useRef)(!1);Object(c.useEffect)((function(){!b&&A.current||m.getRecommend({onStart:function(){return g(!0)},onEnd:function(){g(!1),A.current=!0}})}),[t,b]),Object(c.useEffect)((function(){f.length||N===R.current||m.getRecommend({onStart:function(){return g(!0)},onEnd:function(){g(!1),R.current=N,p.c.emit(p.b.QUEUE_SCROLL_TO_CURRENT_ITEM)}})}),[f.length,N]),Object(c.useEffect)((function(){!b&&h.current&&h.current.setAttribute("style","position: relative; top: 0; right: 0; --header-wrapper-bg: transparent;")}),[b]);var k=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(y.current&&h.current){var t=y.current.getBoundingClientRect()||{},n=t.top,a=void 0===n?0:n,c=t.bottom,r=void 0===c?0:c,l=h.current.getBoundingClientRect()||{},i=l.bottom,u=void 0===i?-1:i,o=l.top,s=void 0===o?0:o,m=l.height,f=void 0===m?62:m;if(a+f<=u||s+1<Ka){if(y.current.style.height="".concat(f,"px"),h.current.setAttribute("style","position: fixed; top: ".concat(Ka,"px; right: 8px; --header-wrapper-bg: var(--queue-player-popup-bg);")),e){var b=document.getElementById(j.p.QUEUE_SCROLL),d=f-56+(u-r);b&&d>0&&d<f&&(b.scrollTop+=-30-d)}}else y.current.style.height="0px",h.current.setAttribute("style","position: relative; top: 0; right: 0; --header-wrapper-bg: transparent;"),e&&p.c.emit(p.b.QUEUE_RECOMMEND_UPDATED)}}),[]);Object(c.useEffect)((function(){return function(){k(!0)}}),[f]),Object(c.useEffect)((function(){var e=document.getElementById(j.p.QUEUE_SCROLL);if(e){var t=function(){return k(!1)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}return function(){}}),[]);var C=Object(c.useCallback)((function(){return b?v?r.a.createElement(Ha.b,{className:"recommend-loader",songItem:r.a.createElement(Qa,null),showTitle:!1,countItem:10}):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{domRef:y}),r.a.createElement(Wa,{items:f})):null}),[v,f,b]),I=Object(c.useCallback)((function(){m.toggleAutoPlayRecommend()}),[]);if(!f.length)return null;var T=b?["T\u1ef1 \u0111\u1ed9ng ph\xe1t","Danh s\xe1ch b\xe0i h\xe1t g\u1ee3i \xfd"]:["\u0110\xe3 t\u1eaft t\u1ef1 \u0111\u1ed9ng ph\xe1t","B\u1eadt l\xean \u0111\u1ec3 ph\xe1t ti\u1ebfp c\xe1c ".concat(i?"podcast":"b\xe0i h\xe1t"," g\u1ee3i \xfd")],P=Object(a.a)(T,2),L=P[0],_=P[1];return r.a.createElement(u.l,{className:"queue-recommend"},r.a.createElement(u.l,{className:"header-wrapper",domRef:h},r.a.createElement(u.y,{className:"header"},r.a.createElement(u.y.Side,{align:"left",className:"header-left"},r.a.createElement(u.M,null,L),r.a.createElement(u.M,{subtitle:!0},_)),r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.d,{className:"zm-auto-play-switch pull-left",onClick:I},r.a.createElement(u.q,{icon:b?r.a.createElement(_e.w,null):r.a.createElement(_e.v,null),className:d()("ic-svg-switch",{"zm-switch-off":!b})}))))),C())})),Ka=126;function Xa(e){var t=e.idsUpdate,n=Object(l.c)(g.l),i=Object(l.c)(g.h),o=Object(l.c)(z.c),m=Object(l.c)(z.u),f=Object(l.c)(z.k),b=Object(c.useRef)(f),E=Object(l.c)(z.t),O=nt.Array.findIndex(f,o),v=Object(c.useRef)(0);v.current=O;var h=Object(c.useRef)(null),y=Object(c.useRef)([0,0]),N=Object(c.useRef)(null),R=Object(c.useRef)(null),A=Object(c.useRef)(E),k=Object(l.c)(z.s),C=Object(c.useRef)(),I=Object(c.useState)(),T=Object(a.a)(I,2),P=T[0],L=T[1],_=Object(c.useState)(0),S=Object(a.a)(_,2),w=S[0],x=S[1],M=Object(s.C)(),D=Object(a.a)(M,1)[0];Object(c.useEffect)((function(){b.current=f,A.current=E}),[f]),Object(c.useEffect)((function(){L(!1),x(0),U()}),[O]),Object(c.useEffect)((function(){return p.c.on(p.b.QUEUE_SCROLL_TO_CURRENT_ITEM,U),function(){p.c.off(p.b.QUEUE_SCROLL_TO_CURRENT_ITEM,U)}}),[]);var U=Object(c.useCallback)((function(){H(),v.current>-1&&(R.current=setTimeout((function(){var e;null===(e=N.current)||void 0===e||e.scrollToIndex({index:v.current,behavior:"smooth"})}),200))}),[]);Object(c.useEffect)((function(){var e=document.getElementById(j.p.QUEUE_SCROLL),t=document.getElementById("queue-recommend"),n=function(){var e,n,c=null!==(e=null===t||void 0===t?void 0:t.getBoundingClientRect().top)&&void 0!==e?e:-999999,r=Object(a.a)(y.current,2),l=(r[0],r[1]);if((-1===v.current||v.current>l)&&c>Ka)return L(!1),void x(0);var i=(null===(n=C.current)||void 0===n?void 0:n.getBoundingClientRect().top)||0;x(-999999!==c&&c<170?170-c:0),L(i<72)};return null===e||void 0===e||e.addEventListener("scroll",n),function(){null===e||void 0===e||e.removeEventListener("scroll",n)}}),[]),Object(c.useEffect)((function(){var e=function(){x(0)};return p.c.on(p.b.QUEUE_RECOMMEND_UPDATED,e),function(){p.c.off(p.b.QUEUE_RECOMMEND_UPDATED,e)}}),[]);var q=Object(c.useCallback)((function(){var e=A.current[o];if(!e||!e.id)return r.a.createElement(r.a.Fragment,null);var t=k.id===o,a=Object(fa.checkIsVipMedia)(e);return r.a.createElement(u.l,{style:{"--transition":-w+"px",height:w>0?"118px":"unset",display:P?"block":"none"},className:d()("queue-item-pinned",{show:P})},r.a.createElement(Fa,{playSong:function(){D.togglePlay()},song:e,isActive:!0,isPlaying:n,isBuffering:i,isPreItem:!1,titleWidth:a?164:228}),!t&&r.a.createElement(qa,{currentPlaylist:null===m||void 0===m?void 0:m.currentPlaylist,listInfo:null===m||void 0===m?void 0:m.listInfo}))}),[w,o,n,i,m,P,k.id]),F=Object(c.useCallback)((function(e){var t=e["data-index"];return r.a.createElement(ec,Object.assign({index:t,style:{zIndex:1065}},e))}),[]),Y=function(e){var n=e.oldIndex,a=e.newIndex;if(a!==n){var c=Object(Gt.a)(b.current,n,a);t(c),Object(Gt.b)(oe.d.CHANGE_ORDER)}},B=Object(c.useCallback)(r.a.forwardRef((function(e,t){return r.a.createElement($a,Object.assign({},e,{listRef:t,onSortEnd:Y,distance:1,helperClass:"player-queue drag-item"}))})),[]),Q=Object(c.useCallback)((function(){return r.a.createElement("div",{style:{padding:"0 8px"},id:"queue-recommend"},r.a.createElement(Za,{lastEncodeId:k.encodeId,isPodcast:k.episode}))}),[]),H=function(){R.current&&clearTimeout(R.current)};return r.a.createElement(u.l,{className:"player-queue__scroll",onMouseLeave:function(){h.current||(R.current=setTimeout((function(){var e;null===N||void 0===N||null===(e=N.current)||void 0===e||e.scrollToIndex({index:v.current,behavior:"smooth"})}),5e3))},onMouseEnter:H},q(),r.a.createElement(Da.a,{components:{Scroller:Ja,List:B,Item:F,Footer:Q},style:{height:"100%"},ref:N,totalCount:f.length,itemContent:function(e){return function(e,t){var a=A.current[t];if(!a||!a.id)return r.a.createElement(r.a.Fragment,null);var c=a.id===o,l=n&&c,s=e===b.current.length-1,f=i&&c,d=c&&!s,E=e<v.current;return r.a.createElement(u.l,{domRef:function(e){c&&e&&(C.current=e)}},r.a.createElement(Fa,{song:a,isActive:c,isPlaying:l,isBuffering:f,isPreItem:E}),c&&r.a.createElement("span",{ref:h}),d&&r.a.createElement(qa,{currentPlaylist:null===m||void 0===m?void 0:m.currentPlaylist,listInfo:null===m||void 0===m?void 0:m.listInfo}))}(e,b.current[e])},rangeChanged:function(e){var t=e.startIndex,n=e.endIndex;y.current=[t,n]},computeItemKey:function(e){return b.current[e]}}))}var Ja=r.a.forwardRef((function(e,t){e.style;var n=e.children,a=e.className;return Object(c.useEffect)((function(){t.current=document.getElementById(j.p.QUEUE_SCROLL)}),[]),r.a.createElement(u.I,{tabIndex:0,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:a,id:j.p.QUEUE_SCROLL},n)})),$a=Object(Ma.a)((function(e){var t=e.listRef,n=e.children,a=e.className,c=e.style;return r.a.createElement("div",{ref:t,className:"player-queue__list ".concat(a),style:c},n)})),ec=Object(Ma.b)((function(e){var t=e["data-index"];return r.a.createElement("div",Object.assign({index:t},e))})),tc=n(93),nc=Object(c.memo)((function(e){var t=e.tabChange,n=Object(s.C)(),c=Object(a.a)(n,1)[0],i=Object(l.c)(z.b),o=Object(s.u)((function(e){return tc.d.getSongs(void 0,e)}),j.p.QUEUE_SCROLL),m=Object(a.a)(o,1)[0],f=function(e){c.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(ca.QUEUE_TAB.QUEUE),Object(Gt.b)(oe.d.PLAY_RECENT)};if(!m.isFetching&&(!m.items||!m.items.length))return r.a.createElement(xa,null);var b=m.items.filter((function(e){return e.encodeId!==i}));return r.a.createElement(u.l,{className:"player-queue__scroll"},r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:j.p.QUEUE_SCROLL},r.a.createElement(u.z,{className:"player-queue__list"},b.map((function(e,t){return e.sectionId=j.ab.USER_RECENT,function(e,t){return r.a.createElement(Fa,{key:"".concat(e.encodeId,".").concat(t),song:e,playSong:f,menuButtonTypes:Va.f,actionButtonTypes:Va.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))),m.isFetching&&r.a.createElement(Ha.b,{className:"queue-loader",songItem:r.a.createElement(Qa,null),showTitle:!1})))})),ac=n(1606),cc=Object(c.memo)((function(e){var t=e.tabChange,n=Object(s.C)(),c=Object(a.a)(n,1)[0],i=Object(l.c)(z.b),o=Object(l.c)(ac.b),m=function(e){c.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(ca.QUEUE_TAB.QUEUE),Object(Gt.b)(oe.d.PLAY_RECENT)},f=o.filter((function(e){return e.encodeId!==i}));return f.length?r.a.createElement(u.l,{className:"player-queue__scroll"},r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:j.p.QUEUE_SCROLL},r.a.createElement(u.z,{className:"player-queue__list"},f.map((function(e,t){return function(e,t){return e.encodeId===i?r.a.createElement(r.a.Fragment,null):r.a.createElement(Fa,{key:"".concat(e.encodeId,".").concat(t),song:e,playSong:m,menuButtonTypes:Va.f,actionButtonTypes:Va.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))))):r.a.createElement(xa,null)})),rc=Object(c.memo)((function(e){var t=e.tabChange,n=Object(l.c)(B.j);return Object(l.c)(B.h)?r.a.createElement(u.l,{className:"empty-img"}):n?r.a.createElement(nc,{tabChange:t}):r.a.createElement(cc,{tabChange:t})})),lc=n(286);function ic(e){var t=e.clearQueue,n=Object(l.c)(z.t),i=(Object(l.c)(B.m),Object.values(n)),o=Object(c.useRef)(null),m=Object(Ue.a)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1];Object(s.B)(o,(function(e){e||d(e)}));var E=Object(c.useCallback)((function(e){L.b.preventDefault(e),d(!b)}),[b]);return r.a.createElement(u.l,{renderAs:"span",domRef:o,id:"queue_menu"},r.a.createElement(u.P,{icon:"more",onClick:E,title:"Kh\xe1c"}),b&&r.a.createElement(u.B,{className:"menu-settings right"},r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(oc,{clearQueue:t,afterClick:E})),r.a.createElement(u.B.List.Item,null,r.a.createElement(lc.a,{songs:i,hideContextMenu:function(){return d(!1)},containerId:"queue_menu"})))))}Object(c.memo)(ic);var uc=n(43);function oc(e){var t=e.clearQueue,n=e.afterClick,l=Object(i.a)().width,o=Object(s.E)(),m=Object(a.a)(o,1)[0],f=Object(c.useCallback)((function(){t(),n&&n(),l<u.o&&m.toggleIsOpen(!1),Object(Gt.b)(oe.d.CLEAR_QUEUE)}),[l]);return r.a.createElement(uc.b,{icon:"delete",text:"X\xf3a danh s\xe1ch ph\xe1t",onClick:f})}Object(c.memo)(oc);Object(c.memo)((function(e){Object(ht.a)(e);var t=Object(s.z)(),n=t.Modal,a=t.show,l=Object(c.useCallback)((function(){a()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(uc.b,{icon:"16-Add",text:"Th\xeam v\xe0o playlist",onClick:l}),r.a.createElement(n,null,"Modal n\xe8"))}));Object(c.memo)((function(e){e.afterClick;var t=Object(l.c)(z.t),n=Object.values(t).filter((function(e){return!e.episode}));return r.a.createElement(fe.d,{songs:n,title:"",text:"T\u1ea3i danh s\xe1ch ph\xe1t"})})),n(1726);var sc=Object(c.memo)((function(e){var t=e.tab,n=e.tabChange,a=e.clearQueue,c=e.totalItem;L.q.debug("QueueHeader : render");var o=Object(i.a)().width,s=Object(l.c)(pa.d);return r.a.createElement(u.l,{className:"player-queue__header"},r.a.createElement(u.y,{className:"tab-bars"},r.a.createElement(u.y.Side,{align:"left"},r.a.createElement(u.y.Item,{className:d()({"is-active":t===ca.QUEUE_TAB.QUEUE,"is-flash":o>u.o&&s.type===j.c.FLY_ITEM_TO_QUEUE}),onClick:function(){return n(ca.QUEUE_TAB.QUEUE)}},r.a.createElement(u.l,{renderAs:"h6",className:"has-text-white queue-list-title"},"Danh s\xe1ch ph\xe1t")),r.a.createElement(u.y.Item,{className:d()({"is-active":t===ca.QUEUE_TAB.RECENT_LISTEN}),onClick:function(){return n(ca.QUEUE_TAB.RECENT_LISTEN)}},r.a.createElement(fe.g,{category:oe.a.NOW_PLAYING,action:"np_recent",renderAs:"h6",childrenProps:{className:"has-text-white"}},"Nghe g\u1ea7n \u0111\xe2y"))),r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,{className:c?"":"disabled"},r.a.createElement(ln,null)),r.a.createElement(u.y.Item,{className:c?"":"disabled"},r.a.createElement(ic,{clearQueue:function(){return a(!0)}}))))))}));var mc=Object(c.memo)((function(){var e=Object(l.c)(z.p),t=Object(l.c)(z.o),n=Object(l.c)(z.z),i=Object(l.c)(z.A),o=Object(l.c)(z.d),m=Object(s.E)(),f=Object(a.a)(m,1)[0];Object(c.useEffect)((function(){!e&&t&&f.getRecommend({})}),[null===o||void 0===o?void 0:o.id,e,t]);var b=Object(c.useCallback)((function(){return n===ca.QUEUE_TAB.RECENT_LISTEN?r.a.createElement(rc,{tabChange:f.tabChange}):i?o?r.a.createElement(Xa,{idsUpdate:f.idsUpdate}):r.a.createElement(u.l,{className:"empty-img"}):r.a.createElement(xa,null)}),[n,i,null===o||void 0===o?void 0:o.encodeId]);return r.a.createElement(wa,{className:d()({"player-empty":!i})},r.a.createElement(sc,{tab:n,tabChange:f.tabChange,clearQueue:f.clear,toggleIsOpen:f.toggleIsOpen,totalItem:i}),b())})),fc=function(){var e=Object(l.c)(We.d);if(!e)return r.a.createElement(r.a.Fragment,null);var t=On(e);return r.a.createElement(u.l,{className:"media-group"},e&&r.a.createElement(u.l,{className:"item"},r.a.createElement(u.l,{renderAs:"span",className:"label"},"\u0110ang nghe:"),r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{lines:1},e.title,"".concat(t?" - ".concat(t):"")))))},bc=function(e){var t=e.program,n=Object(s.z)(),a=n.Modal,c=(n.show,n.hide);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"description"},r.a.createElement(u.L,{lines:1,ellipsis:r.a.createElement(u.l,{renderAs:"span"},"...")},r.a.createElement(u.M,{subtitle:!0},t.description))),r.a.createElement(a,{className:"program-modal"},r.a.createElement(u.P,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:c}),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail,size:65})),r.a.createElement(u.A.Content,null,r.a.createElement(u.M,null,t.title))),r.a.createElement(u.M,{subtitle:!0},t.description)))},dc=Object(c.memo)((function(e){var t,n,a=e.program,c=e.active;return r.a.createElement(u.l,{className:d()("program-item",{active:c})},r.a.createElement(u.A,{key:a.encodeId},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:a.thumbnail})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"time-text"},c&&r.a.createElement(u.l,{renderAs:"span"},"\u0110ang ph\xe1t"),(t=a.startTime,n=a.endTime,"".concat(Object(ut.secondsToDate)(t,"HH:mm")," - ").concat(Object(ut.secondsToDate)(n,"HH:mm")))),r.a.createElement(u.M,null,r.a.createElement(u.L,null,a.title)),r.a.createElement(bc,{program:a}))),c&&r.a.createElement(fc,null))})),Ec=(n(1647),Object(c.memo)((function(e){var t=e.programs,n=void 0===t?[]:t,l=Object(c.useMemo)((function(){var e=Object(ot.d)(),t=n.findIndex((function(t){return t.startTime>=e}));return t<0||n.length===t+1?[n,[]]:[n.slice(0,t),n.slice(t)]}),[n]),i=Object(a.a)(l,2),o=i[0],s=i[1];return n.length<1?r.a.createElement(r.a.Fragment,null):r.a.createElement(u.l,{className:"program-list__wrapper"},r.a.createElement(u.l,{className:"program-list__content"},r.a.createElement(u.l,{className:"date-text"},"H\xf4m nay"),o.map((function(e,t){return r.a.createElement(dc,{key:e.encodeId,program:e,active:0===t})})),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"date-text"},"Ng\xe0y mai"),s.map((function(e){return r.a.createElement(dc,{key:e.encodeId,program:e,active:!1})})))))}))),Oc=function(e){var t=e.src;return r.a.createElement(u.l,{className:"zm-blur-queue-bg"},r.a.createElement(u.l,{className:"zm-blur-queue-bg-image",style:{backgroundImage:"url(".concat(t,")")}}),r.a.createElement(u.l,{className:"zm-blur-queue-bg-alpha"}))},vc=Object(c.memo)((function(){var e=Object(l.c)(We.b),t=Object(l.c)(We.l),n=Object(c.useState)(!1),i=Object(a.a)(n,2),s=i[0],m=i[1],f=Object(c.useState)(Date.now()/o.l),b=Object(a.a)(f,2),d=b[0],E=b[1],O=Object(c.useCallback)((function(e){var t=e.currentTarget.scrollTop;m(t>0)}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){var e=Date.now()/o.l;E(e)}),o.g);return function(){return clearInterval(e)}}),[]);var v=Object(c.useMemo)((function(){if(!e)return"";var n=e.thumbnailM;if((t||[]).length){var a,c=Object(jn.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;if(r.startTime<=d&&d<r.endTime){r.thumbnail&&(n=r.thumbnail);break}}}catch(l){c.e(l)}finally{c.f()}}return n.replace("w240","w320")}),[e,t,d]);return e?r.a.createElement(wa,{className:"player-queue__livestream"},r.a.createElement(Oc,{src:v}),r.a.createElement(u.l,{className:"actions"},r.a.createElement(ln,null)),r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,onScroll:O,className:s?"is-mask":""},r.a.createElement(u.l,{className:"player-queue__livestream-content"},r.a.createElement(u.x,{src:v,className:"cover"}),r.a.createElement(u.l,{className:"info"},r.a.createElement(u.M,{className:"name"},r.a.createElement(u.L,{lines:2},e.title)),r.a.createElement(u.M,{className:"desc",subtitle:!0},r.a.createElement(u.L,{lines:3},e.description))),r.a.createElement(Ec,{programs:t})))):null}));var jc=Object(c.memo)((function(e){var t=e.type,n=void 0===t?"MV":t,a=Object(i.a)().width;return r.a.createElement(H.a,{in:a>=u.o,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},r.a.createElement(u.l,{className:"player-queue player-empty"},r.a.createElement(u.l,{className:"queue-video-playing"},r.a.createElement("div",{className:"empty-img"}),r.a.createElement(u.l,{className:"empty-queue"},r.a.createElement(u.l,{className:"queue-video-img"}),r.a.createElement(u.l,{className:"content"},"\u0110ang ph\xe1t ",n,"...")))))})),pc=n(54),gc=(n(1727),Object(c.memo)((function(){var e=Object(l.c)(g.k),t=Object(l.c)(f.h),n=Object(l.c)(E.e),a=Object(l.c)(We.f),c=Object(l.c)(z.c),i=Object(l.c)(E.j);if(!e||t||a||!c)return null;var o=Object(pc.g)(j.jb.PLAYER_PREVIEW_PROMOTION,j.rb.PREMIUM,n?oe.c.ZONE_LYRIC:oe.c.ZONE_PLAYER);return r.a.createElement(u.l,{className:d()("vip-promotion-banner",{opac:n,"list-tab":i===j.v.LIST})},r.a.createElement(u.l,{className:d()("vip-promotion-content")},r.a.createElement(u.l,{renderAs:"span"},"N\xe2ng c\u1ea5p t\xe0i kho\u1ea3n Premium \u0111\u1ec3 nghe tr\u1ecdn b\xe0i h\xe1t."),r.a.createElement(u.l,{renderAs:"a",target:"_blank",href:o},"T\xecm hi\u1ec3u ngay")))})));window.ZMP3_PLAYER=Object(Fe.initZPLayer)(),window.ZMP3_PLAYER_2=Object(Fe.initZPLayer)();t.default=Object(c.memo)((function(){var e=Object(s.E)(),t=Object(a.a)(e,1)[0],n=Object(s.C)(),m=Object(a.a)(n,1)[0],f=Object(l.c)(Z.e),b=Object(l.c)(We.f),d=Object(l.c)(z.A),E=Object(i.a)().width,O=Object(l.c)(z.p),v=Object(l.c)(z.d)||{},j=Object(l.c)(B.g);Object(c.useEffect)((function(){j&&v.encodeId&&m.getStreaming(v)}),[j]);var p=document.getElementsByClassName("zm-layout")[0];return Object(c.useEffect)((function(){if(d||b?p.classList.add("has-player"):p.classList.remove("has-player"),!d&&!b||f){var e=Object(ja.c)();return function(){return clearTimeout(e)}}}),[d,b,f]),Object(c.useEffect)((function(){d||t.toggleIsOpen(E>=u.o)}),[E]),Object(c.useEffect)((function(){var e=setTimeout((function(){t.changeKeyQueue(O?1:0)}),o.n);return function(){return clearTimeout(e)}}),[O]),r.a.createElement(u.J,{className:"now-playing-bar"},f||b?f?r.a.createElement(jc,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn,null),r.a.createElement(vc,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Suspense,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(Ge,null)),r.a.createElement(mc,null),r.a.createElement(q,null),r.a.createElement(Q,null)),r.a.createElement(Yn,null),r.a.createElement(gc,null),r.a.createElement(ka,null),b&&!f&&r.a.createElement(Sa,null))}))}}]);