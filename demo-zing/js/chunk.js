(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[14],{1603:function(e,t,n){"use strict";var a=n(8),c=n(0),r=n.n(c),l=n(1),i=n(6),o=n.n(i),s=n(28);n(1604);t.a=Object(c.memo)((function(e){var t=e.images,n=e.isPlay,i=void 0!==n&&n,u=e.timeout,m=void 0===u?10:u,d=e.shuffle,b=void 0===d||d,f=e.once,E=e.className,O=Object(c.useState)(0),g=Object(a.a)(O,2),v=g[0],h=g[1],j=Object(c.useMemo)((function(){return b?s.Array.shuffle(t):t}),[t]),p=Object(c.useRef)(v),I=Object(c.useRef)(!f);p.current=v,Object(c.useEffect)((function(){if(i&&!f){var e=setTimeout((function(){h(v===j.length-1?0:v+1)}),1e3*m);return function(){return clearTimeout(e)}}}),[j,v,i,f]),Object(c.useEffect)((function(){i&&f&&(I.current=!0,h(v===j.length-1?0:v+1))}),[i]);var y=Object(c.useMemo)((function(){return v<=0?[j[j.length-1],j[0]]:[j[v-1],j[v]]}),[j,v]);return r.a.createElement(l.l,{className:o()("image-effect",E,{"is-play":i})},r.a.createElement(l.l,{renderAs:"ul"},y.map((function(e,t){var n=t===y.length-1;return r.a.createElement(l.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:o()({enter:!!I.current&&n,exit:!!I.current&&!n})},r.a.createElement(l.l,{renderAs:"img",src:e}))}))))}))},1604:function(e,t,n){},1605:function(e,t,n){},1606:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1607:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}},1642:function(e,t,n){"use strict";var a,c,r=n(0),l=n.n(r),i=n(1),o=n(5),s=n(17),u=n(27),m=n(15),d=n(8),b=n(6),f=n.n(b),E=n(60),O=n(33),g=n(10),v=n(109),h=n(195),j=n(116),p=n(7),I=n(29),y=n(18),N=n(9),A=n(2),M=n(32),T=n(286),k=n(448),S=n(283);!function(e){e[e.FAVORITE=0]="FAVORITE",e[e.MV=1]="MV",e[e.ADD_TO_QUEUE=2]="ADD_TO_QUEUE",e[e.ADD_NEXT_PLAYING=3]="ADD_NEXT_PLAYING",e[e.REMOVE_FROM_QUEUE=4]="REMOVE_FROM_QUEUE",e[e.MORE=5]="MORE",e[e.ADD_TO_PLAYLIST=6]="ADD_TO_PLAYLIST",e[e.COMMENT=7]="COMMENT",e[e.SHARE=8]="SHARE",e[e.KARAOKE=9]="KARAOKE",e[e.RADIO=10]="RADIO",e[e.DOWNLOAD=11]="DOWNLOAD",e[e.RINGTONE=12]="RINGTONE",e[e.COPY_LINK=13]="COPY_LINK",e[e.PLAY_SIM_SONG=14]="PLAY_SIM_SONG"}(c||(c={}));a={},Object(N.a)(a,c.ADD_TO_PLAYLIST,T.a),Object(N.a)(a,c.COMMENT,M.b),Object(N.a)(a,c.SHARE,M.i),Object(N.a)(a,c.RINGTONE,k.a);var C=[c.FAVORITE,c.MORE];c.FAVORITE,c.MORE,c.ADD_TO_QUEUE,c.MORE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE,c.REMOVE_FROM_QUEUE,c.FAVORITE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE;var _=n(107),R=n.n(_),L=function(e){return"number"===typeof e?R.a.unix(e):R()("".concat(e,":GMT+0700"),"DD/MM/YYYY:z")},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=L(e);return R()().diff(a,t,n)},x=function(e){var t=function(e){var t=L(e);return R()().startOf("day").diff(t.startOf("day"),"days")}(e);if(t<0)return"";if(0===t){var n=P(e,"minutes");if(n<1)return"V\u1eeba xong";if(n<60)return"".concat(n," ph\xfat tr\u01b0\u1edbc");var a=P(e,"hours",!0);return a<=6?"".concat(Math.floor(a)," gi\u1edd tr\u01b0\u1edbc"):"H\xf4m nay"}return 1===t?"H\xf4m qua":t<=6?"".concat(t," ng\xe0y tr\u01b0\u1edbc"):t<28?"".concat(Math.floor(t/7)," tu\u1ea7n tr\u01b0\u1edbc"):L(e).format("DD/MM/YYYY")};var D=Object(r.memo)((function(e){var t=e.typeButtons,n=void 0===t?C:t,a=e.item,r=e.handleContextMenu,o=e.hideContextMenu,s=e.isShowContextMenu;return l.a.createElement(l.a.Fragment,null,function(e,t){return e.map((function(e){return l.a.createElement(i.y.Item,{key:e},function(e){var t,n=e.type,a=e.playlist,r=e.showText,i=e.showContextMenu,o=e.isShowContextMenu;switch(n){case c.FAVORITE:t=l.a.createElement(M.e,{objectId:a.encodeId,objectType:A.N.PLAYLIST,showText:r,object:a});break;case c.MORE:t=l.a.createElement(S.a,{object:a,showContextMenu:i,isShowContextMenu:o});break;default:return null}return t}({type:e,playlist:t,showText:!1,showContextMenu:r,hideContextMenu:o,isShowContextMenu:s}))}))}(n,a))})),w=(n(1605),function(e){var t=e.item,n=e.handleContextMenu,a=e.isShowContextMenu;return l.a.createElement(i.A.Right,null,l.a.createElement(i.l,{className:"hover-items"},l.a.createElement(i.y,null,l.a.createElement(D,{item:t,handleContextMenu:n,isShowContextMenu:a}))),l.a.createElement(i.l,{className:"action-items"},l.a.createElement(i.y,null,l.a.createElement(D,{typeButtons:[c.FAVORITE],item:t,handleContextMenu:n,isShowContextMenu:a}),l.a.createElement(i.y.Item,{className:"duration"},Object(I.formatTime)(300)))))}),F=function(e){var t=e.time;return l.a.createElement(i.l,{className:"time-release"},l.a.createElement(i.l,{renderAs:"span"},x(t)))},Y=function(e){var t=e.item,n=e.isActive,a=e.isPlaying,c=e.tracking,r=void 0===c?[]:c,o=e.clickTracking,s=void 0===o?[]:o,u=Object(g.i)(),b=u.ref,I=u.ContextMenu,N=u.handleContextMenu,A=u.hideContextMenu,M=u.isShowContextMenu,T=Object(g.C)(),k=Object(d.a)(T,1)[0];Object(E.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{playlist:t},l.a.createElement(i.A,{className:f()("zm-new-release-playlist",{active:M||n}),domRef:b,onClick:function(){y.a.apply(void 0,Object(m.a)(s))}},l.a.createElement(i.A.Left,null,l.a.createElement(i.l,{className:"thumb"},l.a.createElement(i.l,{className:"thumb-action"},l.a.createElement(i.x,{src:t.thumbnailM}),l.a.createElement(i.l,{className:"actions",onClick:function(e){k.playPlaylist(t),y.a.apply(void 0,Object(m.a)(r)),p.b.preventDefault(e)}},l.a.createElement(i.r,{icon:a?" ic-gif-playing-white":"play"}))),l.a.createElement(i.x,{className:"disk",src:O.l+"/icons/album-disk.png"})),l.a.createElement(i.l,{className:"card-info"},l.a.createElement(i.M,null,l.a.createElement(i.L,null,t.title)),l.a.createElement(i.M,{subtitle:!0,className:"is-one-line is-truncate"},l.a.createElement(v.a,{artists:t.artists})),l.a.createElement(F,{time:t.releaseDate}))),l.a.createElement(i.A.Content,null,l.a.createElement(i.l,null,x(t.releaseDate))),l.a.createElement(w,{handleContextMenu:N,item:t,isShowContextMenu:M}))),l.a.createElement(I,null,l.a.createElement(j.a,{playlist:t,hideContextMenu:A})))},G=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking,m=Object(o.c)(s.e),d=Object(o.c)(u.l);return l.a.createElement(i.z,null,t.map((function(e){var t=e.encodeId===m,o=t&&d;return e.sectionId=n,e.actionTracking=r,l.a.createElement(i.z.Item,{className:"bor-b-1",key:e.encodeId},l.a.createElement(Y,{item:e,isActive:t,isPlaying:o,tracking:a,clickTracking:c}))})))},B=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking;return t.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.A,{className:"top-header"},l.a.createElement(i.A.Left,null,l.a.createElement(i.l,{className:"column-text"},"Album")),l.a.createElement(i.A.Content,null,l.a.createElement(i.l,{className:"column-text"},"Ph\xe1t h\xe0nh")),l.a.createElement(i.A.Right,null,l.a.createElement(i.l,{className:"column-text"}," Th\u1eddi gian"))),l.a.createElement(G,{items:t,sectionId:n,tracking:a,clickTracking:c,actionTracking:r})):null},z=n(3),H=n(187),U=n(11),V=n(34),X=n(45),K=n(69),Q=function(e){var t=e.song,n=Object(r.useMemo)((function(){return l.a.createElement(i.l,null,x(t.album?t.album.releaseDate:t.releaseDate))}),[t]),a=l.a.createElement(X.f,{type:K.a.ICON,icon:"song"});return l.a.createElement(X.l,Object.assign({},e,{songMiddle:n,songLeftBefore:a}))},q=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.actionTracking,r=Object(o.c)(s.b),i=Object(o.c)(u.l),m=Object(o.c)(V.i),b=Object(o.c)(V.a),f=Object(o.c)(u.h),E=Object(o.c)(U.m),O=Object(o.c)(U.q),v=Object(g.C)(),h=Object(d.a)(v,1)[0],j=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.playSongInList(e,Object(z.a)(Object(z.a)({},a),{},{songs:t.map((function(e){return!e.sectionId&&n?Object(z.a)(Object(z.a)({},e),{},{sectionId:n}):Object(z.a)({},e)}))}))};return l.a.createElement(H.b,{items:t,renderItem:function(e){var o=t[e];if(!o)return l.a.createElement(l.a.Fragment,null);var s=o.encodeId===r,u=i&&s,d=f&&s;return o.sectionId=n,o.actionTracking=c,l.a.createElement(Q,{key:o.encodeId,order:e+1,song:o,currentEncodeId:r,isActive:s,isPlaying:u,isBuffering:d,mediasBlocked:m,artistsBlocked:b,streamPrivilege:O,isUserVN:E,playSongFn:j,tracking:a,className:"bor-b-1"})},className:"",disableSort:!0,columnTexts:["B\xe0i h\xe1t","Ph\xe1t h\xe0nh","Th\u1eddi gian"]})};n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return F})),n.d(t,"b",(function(){return q}))},1660:function(e,t,n){},1661:function(e,t,n){},1662:function(e,t,n){},1663:function(e,t,n){},1664:function(e,t,n){},1665:function(e,t,n){},1666:function(e,t,n){},1667:function(e,t,n){},1668:function(e,t,n){},1818:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(8),r=n(9),l=n(0),i=n.n(l),o=n(5),s=n(81),u=n(2),m=n(10),d=n(73),b=n(1),f=n(11),E=n(87),O=n(27),g=n(17),v=n(60),h=n(38),j=n(1603),p=n(39),I=n(195),y=n(28),N=n(116),A=n(109),M=Object(l.memo)((function(e){var t=e.playlist,n=e.isPlaying,a=e.isBuffering,r=void 0!==a&&a,o=e.isActive,s=void 0!==o&&o,d=e.isOwner,f=void 0!==d&&d,E=e.animate,O=Object(v.g)(),g=Object(m.C)(),M=Object(c.a)(g,1)[0],T=Object(m.i)(),k=T.ref,S=T.ContextMenu,C=T.handleContextMenu,_=T.hideContextMenu,R=T.isShowContextMenu,L=t.thumbnails,P=void 0===L?[]:L,x=t.thumbnailM,D=t.artists,w=void 0===D?[]:D,F=t.description,Y=Object(l.useMemo)((function(){return y.Array.isEmpty(P)?[x]:y.Array.shuffle(P)}),[]);return i.a.createElement(b.e,{className:"zm-playlist-item-animation",domRef:k},i.a.createElement(b.e.Image,{className:n||R?"active":""},i.a.createElement(I.b,{playlist:t},i.a.createElement(j.a,{images:Y,isPlay:E,timeout:2,once:!0,shuffle:!1}),i.a.createElement(b.F,null),i.a.createElement(p.a,{className:"playlist-actions",objectId:t.encodeId,object:t,haveLikeBtn:!t.isDailymix&&!f,haveOtherBtn:!t.isDailymix,isPlaying:n,isBuffering:r,isActive:s,handleContext:C,playFn:function(){M.playPlaylist(t),s||O.push(t.link)},thumbnail:t.thumbnailM,objectType:t.isAlbum?u.N.ALBUM:u.N.PLAYLIST}))),i.a.createElement(b.e.Content,null,i.a.createElement(j.a,{images:Y,isPlay:E,timeout:2,once:!0,shuffle:!1}),i.a.createElement(b.l,{className:"content"},i.a.createElement(h.b,{to:t.link},i.a.createElement(b.l,{className:"name"},t.title)),i.a.createElement(b.l,{className:"artist"},y.Array.isEmpty(w)?F:i.a.createElement(b.M,{subtitle:!0,className:"is-one-line is-truncate"},i.a.createElement(A.a,{artists:w}))))),i.a.createElement(S,null,i.a.createElement(N.a,{playlist:t,hideContextMenu:_})))})),T=n(6),k=n.n(T),S=(n(1660),Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.sectionId,r=e.autoSlider,s=e.subTitle,u=e.title,m=e.link,d=e.className,v=Object(o.c)(g.e),h=Object(o.c)(f.t),j=Object(o.c)(O.l),I=Object(o.c)(O.h),y=Object(o.c)(E.c),N=Object(l.useMemo)((function(){return n.slice(0,5).filter((function(e){var t;return(null===e||void 0===e||null===(t=e.thumbnails)||void 0===t?void 0:t.length)>2})).map((function(e){return e.encodeId}))}),[]),A=Object(l.useState)(N[0]),T=Object(c.a)(A,2),S=T[0],C=T[1];Object(l.useEffect)((function(){var e=setTimeout((function(){var e=N.indexOf(S),t=e===N.length-1?0:e+1;C(N[t])}),2e3);return function(){return clearTimeout(e)}}),[S,N]);return i.a.createElement(b.J,{className:k()("playlist-section",d)},i.a.createElement(b.i,null,s?i.a.createElement(p.c,{subTitle:s,title:u}):i.a.createElement(p.e,{link:m,title:u}),i.a.createElement(b.f,{infinite:r,hideArrow:!0},n.map((function(e,t){return function(e,t){e.zoneid&&y[e.zoneid]&&(e=y[e.zoneid]);var n=e.encodeId===v,c=n&&j,r=h>0&&h===e.uid,l=I&&n,o=S===e.encodeId;return e.sectionId=a,i.a.createElement(M,{key:e.encodeId,playlist:e,isActive:n,isPlaying:c,isOwner:r,isBuffering:l,animate:o})}(e)})))))}))),C=n(193),_=n(227);var R=Object(l.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(o.c)(g.e),r=Object(o.c)(O.l),s=t.encodeId===a,u=s&&r,d=Object(l.useState)("rgba(0, 0, 0, 0.7)"),f=Object(c.a)(d,2),E=f[0],v=f[1],j=Object(l.useState)("".concat(19,"px")),p=Object(c.a)(j,2),y=p[0];p[1],t.sectionId=n;var A=Object(m.i)(),M=A.ref,T=A.ContextMenu,k=A.isShowContextMenu,S=A.handleContextMenu,C=A.hideContextMenu,_=Object(m.C)(),R=Object(c.a)(_,1)[0],L=t.song,P=t.artistsNames,x=t.link,D=Object(l.useCallback)((function(){var e;R.playPlaylist(t,{domRect:null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.getBoundingClientRect()})}),[t]),w=Object(l.useMemo)((function(){var e;return(null===L||void 0===L||null===(e=L.items)||void 0===e?void 0:e.slice(0,3).map((function(e){return e.thumbnail})))||[]}),[L]),F=Object(m.q)({delayEnter:100}),Y=Object(c.a)(F,2),G=Y[0],B=Y[1];return Object(l.useEffect)((function(){m.a.getColor(t.thumbnailM).then((function(e){return v(e)}))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(h.b,{to:x},i.a.createElement(b.l,Object.assign({className:"playlist-wrapper",domRef:M},B),i.a.createElement(b.e,null,i.a.createElement(I.c,{playlist:t,handleContextMenu:S,isShowContextMenu:G||k,isActive:s,isPlaying:u,playFn:D}),i.a.createElement(b.l,{className:"blur-bg",style:{backgroundImage:"linear-gradient(\n                                    to bottom,\n                                    rgba(0, 0, 0, 0),\n                                    rgba(0, 0, 0, 0) 50%,\n                                    ".concat(E,"\n                                )")}}),i.a.createElement(b.l,{className:"mix-content"},i.a.createElement(b.M,null,i.a.createElement(b.L,{lines:2,minFontSize:y,allowCutting:!0},P)),i.a.createElement(b.l,{className:"thumbs"},w.map((function(e,t){return i.a.createElement(b.l,{key:t,className:"thumb-item"},i.a.createElement(b.x,{src:e}))}))))))),i.a.createElement(T,null,i.a.createElement(N.a,{songs:[],playlist:t,hideContextMenu:C})))})),L=["V\xec b\u1ea1n y\xeau th\xedch","B\u1ea1n \u0111\xe3 quan t\xe2m","T\u1eeb th\u01b0 vi\u1ec7n c\u1ee7a b\u1ea1n","V\xec b\u1ea1n nghe nhi\u1ec1u","B\u1ea1n nghe g\u1ea7n \u0111\xe2y","C\xf3 th\u1ec3 b\u1ea1n th\xedch"],P=Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.fullhd,c=void 0===a?20:a,r=e.widescreen,l=void 0===r?20:r,o=e.desktop,s=void 0===o?3:o,u=e.touch,m=void 0===u?3:u,d=e.tablet,b=void 0===d?3:d,f=e.autoSlider,E=e.sectionId;if(y.Array.isEmpty(n))return null;var O=y.Array.shuffle(L);return i.a.createElement(_.b,{infinite:f,hideArrow:!0},n.map((function(e,t){return function(e,t){var n=O[t%O.length];return i.a.createElement(R,{key:"mix.".concat(e.encodeId),fullhd:c,widescreen:l,desktop:s,touch:m,tablet:b,item:e,sectionId:E,subTitle:n})}(e,t)})))})),x=(n(657),Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.viewType,c=(void 0===a&&u.qb.SLIDER,e.title),r=e.link,l=e.className,o=void 0===l?"":l,s=e.sectionId,m=e.subTitle,d=e.options,f=(void 0===d?{}:d).autoSlider;if(!n.length)return null;return i.a.createElement(b.J,{className:k()("mix-section",o)},i.a.createElement(b.i,null,m?i.a.createElement(p.c,{subTitle:m,title:c}):i.a.createElement(p.e,{link:r,title:c}),i.a.createElement(P,{autoSlider:f,items:n,sectionId:s})))}))),D=n(45),w=n(416),F=n(170),Y=n(160),G=n(158),B=n(7),z=n(85),H=n(194),U=n(13),V="/page/get/home",X="/user/recent-play-home",K="/song/get/section-song-station",Q={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0,a={page:e,count:t};return(n||[]).length>0&&(a.segments=n),Object(U.c)((function(){return Object(U.d)(V,a)}))},getRecentHome:function(){return Object(U.c)((function(){return Object(U.d)(X)}))},getSongStation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return Object(U.c)((function(){return Object(U.d)(K,{count:e})}))}},q=(n(1661),n(18)),J=Object(l.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(m.C)(),r=Object(c.a)(a,1)[0],l=t.playlist,s=t.title,u=t.subtitle,d=t.icon,f=Object(o.c)(g.e),E=Object(o.c)(O.l),v=l.encodeId===f,h=v&&E,j=Object(o.c)(O.h)&&v,p=function(){l.sectionId=n,r.playPlaylist(l),Object(q.a)("Home","HActivities_tags",u)};return i.a.createElement(b.A,{className:"zm-genre-mood-item",onClick:p},i.a.createElement(b.A.Left,null,i.a.createElement(b.t,{src:l.thumbnail}),i.a.createElement(b.l,{className:"action"},i.a.createElement(b.s,{isPlaying:h,onClick:p,isOutlinePlayBtn:!1,className:v&&j?"is-hide":""}),v&&j&&i.a.createElement(b.c,{className:j?"":"is-hide"}))),i.a.createElement(b.A.Content,null,i.a.createElement(b.M,{title:s},i.a.createElement(b.L,null,s)),i.a.createElement(b.M,{subtitle:!0},i.a.createElement(b.t,{src:d})," ",u)))})),W=(n(1662),Object(l.memo)((function(e){var t=e.items,n=e.className,a=e.title,c=e.link,r=e.sectionId;return i.a.createElement(b.J,{className:k()("zm-genre-mood-home-section",n)},i.a.createElement(p.e,{link:c,title:a}),i.a.createElement(b.h,{oneline:!0},t.map((function(e,t){return i.a.createElement(b.h.Column,{fullhd:3,tablet:4,marginClass:"mar-b-0"},i.a.createElement(J,{key:t,item:e,sectionId:r}))}))))}))),Z=function(e){var t=e.children;return i.a.createElement(b.h,null,i.a.Children.map(t,(function(e,t){var n=2===t?"0":6;return i.a.createElement(l.Fragment,{key:"item-list-".concat(t)},i.a.createElement(b.h.Column,{marginClass:"mar-b-0",fullhd:4,widescreen:4,desktop:4,touch:n,tablet:n},e))})))},$=n(1642),ee=(n(1663),"ALL"),te=[{id:ee,text:"T\u1ea5t c\u1ea3",labelGA:"All",filter:"all",itemKey:"all"},{id:"VPOP",text:"Vi\u1ec7t Nam",labelGA:"VietNam",filter:"vpop",itemKey:"vPop"},{id:"OTHERS",text:"Qu\u1ed1c t\u1ebf",labelGA:"QuocTe",filter:"usuk",itemKey:"others"}],ne=["Home Section","_hNewReleases_play","Single"],ae=["Home Section","_hNewRelease_actionSong"],ce={songMiddle:null,thumbSize:60,buttonsType:[D.b.FAVORITE,D.b.ADD_TO_QUEUE,D.b.ADD_NEXT_PLAYING,D.b.PLAY_SIM_SONG,D.b.ADD_TO_PLAYLIST,D.b.COMMENT,D.b.COPY_LINK,D.b.SHARE],otherInfo:function(e){var t,n,a=e.song;return i.a.createElement($.c,{time:null!==(t=null===(n=a.album)||void 0===n?void 0:n.releaseDate)&&void 0!==t?t:a.releaseDate})}},re=function(e){var t=e.items,n=e.sectionId,r=e.genreId,s=Object(m.C)(),u=Object(c.a)(s,1)[0],d=Object(o.b)(),b=Object(l.useRef)(t);b.current=t;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=function(){d(Object(F.e)(r))};e&&u.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:b.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n,listInfo:{title:"M\u1edbi ph\xe1t h\xe0nh",link:"/",scrollTo:"zm-new-release-section",afterClickFn:c}})}))}))};return i.a.createElement(Z,null,Array.from({length:3}).map((function(e,a){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(a)},i.a.createElement(D.m,{items:t.slice(4*a,4*(a+1)),SongItemProps:ce,sectionId:n,tracking:ne,actionTracking:ae,playSongFn:f}))})))},le=Object(l.memo)((function(e){var t=e.items,n=e.className,a=e.title,r=e.link,s=void 0===r?"/new-release/song":r,u=e.sectionId,m=void 0===u?"_hNewReleases":u,d=Object(o.b)(),f=Object(o.c)(Y.b),E=Object(l.useState)(f||ee),O=Object(c.a)(E,2),g=O[0],v=O[1];if(Object(l.useEffect)((function(){f&&v(f)}),[f]),!t)return i.a.createElement(i.a.Fragment,null);var h=te.find((function(e){return e.id===g}));if(!h)return i.a.createElement(i.a.Fragment,null);var j=t[h.itemKey]||[],I="".concat(s,"?filter=").concat(h.filter);return i.a.createElement(b.J,{className:k()("zm-new-release-section",n)},i.a.createElement(p.e,{link:I,title:a,tracking:["Home Section","_hNewRelease_viewAll"]}),i.a.createElement(b.l,{className:"genre-select"},te.map((function(e){return i.a.createElement(b.d,{key:e.id,onClick:function(){return function(e){var t;v(e),d(Object(F.e)(e));var n=null===(t=te.find((function(t){return t.id===e})))||void 0===t?void 0:t.labelGA;Object(q.a)("Home Section","_hNewReleases_tab",n)}(e.id)},className:k()({active:g===e.id})},e.text)}))),i.a.createElement(re,{items:j,sectionId:m,genreId:g}))})),ie=n(422),oe=n(1606),se=function(e){var t=Object(o.c)(oe.a);return i.a.createElement(ie.a,Object.assign({},e,{items:t,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20}))},ue=n(61),me=(n(1664),function(e){var t=e.source;return i.a.createElement(b.l,{className:"zm-partner-item"},i.a.createElement(b.l,{className:"content"},i.a.createElement(b.x,{src:t})))}),de=Object(l.memo)((function(){var e=Object(o.c)(ue.f),t=Object(l.useMemo)((function(){var t=e||{},n=t.title,a=t.items,c=void 0===a?[]:a,r=t.isShuffle,l=void 0===r||r,i=t.maxItems;return{title:n,maxItems:void 0===i?16:i,items:l?y.Array.shuffle(c):c}}),[e]),n=Object(m.z)(),a=n.Modal,c=n.show,r=n.hide;return t?i.a.createElement(b.i,{className:"zm-partner-section"},i.a.createElement(b.M,null,i.a.createElement(b.l,{renderAs:"span",onClick:c},t.title)),i.a.createElement(b.h,{multiline:!0},null===t||void 0===t?void 0:t.items.slice(0,t.maxItems).map((function(e,t){return function(e,t){return i.a.createElement(b.h.Column,{key:t,widescreen:3,fullhd:3,desktop:3,touch:3,tablet:3},i.a.createElement(me,{source:e}))}(e,t)}))),i.a.createElement(a,null,i.a.createElement(b.l,{className:"zm-partner-modal"},i.a.createElement(b.M,null,t.title),null===t||void 0===t?void 0:t.items.map((function(e,t){return i.a.createElement(b.h.Column,{key:t,widescreen:20,fullhd:20,desktop:20,touch:3,tablet:3},i.a.createElement(me,{source:e}))})),i.a.createElement(b.P,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:r})))):i.a.createElement(i.a.Fragment,null)})),be=n(196),fe=n(125),Ee=n(435),Oe=n(224),ge=(n(1665),Object(l.memo)((function(e){var t=e.className,n=e.title,a=e.link;return i.a.createElement(b.J,{className:k()("playlist-section zm-home-recent",t)},i.a.createElement(b.i,null,i.a.createElement(p.e,{link:a,title:n}),i.a.createElement(ve,e)))})));function ve(e){var t,n=Object(o.c)(g.e),a=Object(o.c)(f.t),r=Object(o.c)(O.l),d=Object(o.c)(O.h),E=Object(o.c)(fe.c),v=Object(o.c)(fe.i),h=Object(o.c)(fe.g),j=Object(m.x)(),p=Object(c.a)(j,1)[0],I=Object(l.useCallback)((function(e){p.playLivestream(e)}),[]),y=e.sectionId,N=e.autoSlider,A=Object(m.e)((function(){return Q.getRecentHome()})),M=Object(c.a)(A,2),T=M[0],k=M[1];Object(l.useEffect)((function(){k()}),[]);var S=(null===T||void 0===T||null===(t=T.value)||void 0===t?void 0:t.data)||[];return B.q.debug("PlaylistList | render"),T.loading?i.a.createElement(s.a,{showTitle:!1,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,viewType:u.qb.SLIDER,countSection:1,className:"loader"}):i.a.createElement(b.f,{infinite:N,hideArrow:!0},S.map((function(e){return e.type===u.N.LIVESTREAM?function(e){var t=e.encodeId===E,n=t&&v,a=t&&h;return e.sectionId="hRecent",i.a.createElement(Ee.a,{item:e,key:e.encodeId,playFn:I,isPlaying:n,isBuffering:a,isLive:!0,hideActiveUsers:!0,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20})}(e):e.type===u.N.PODCAST?function(e){return i.a.createElement(Oe.a,{item:e,key:e.encodeId,sectionId:y,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,showLabel:!0})}(e):function(e){var t=e.encodeId===n,c=t&&r,l=a>0&&a===e.uid,o=d&&t;return e.sectionId=y,i.a.createElement(be.a,{key:e.encodeId,playlist:e,isActive:t,isPlaying:c,isOwner:l,isBuffering:o,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,itemType:"title"})}(e)})))}var he=n(438),je=n(129),pe=(n(1666),["Home Section","_hSongRadio_play"]),Ie=["Home Section","_hSongRadio_actionSong"],ye={songMiddle:null,thumbSize:60,buttonsType:[D.b.FAVORITE,D.b.ADD_TO_QUEUE,D.b.ADD_NEXT_PLAYING,D.b.PLAY_SIM_SONG,D.b.ADD_TO_PLAYLIST,D.b.COMMENT,D.b.COPY_LINK,D.b.SHARE]},Ne=function(e){var t=e.items,n=e.sectionId,r=e.songsPerCol,o=e.isPlayAll,s=Object(m.C)(),u=Object(c.a)(s,1)[0],d=Object(l.useRef)(t);d.current=t;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(o?u.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:d.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n})}))})):u.playSong(e))};return i.a.createElement(Z,null,Array.from({length:3}).map((function(e,a){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(a)},i.a.createElement(D.m,{items:t.slice(a*r,(a+1)*r),SongItemProps:ye,SongRightProps:{typeButtons:[D.b.FAVORITE,D.b.MORE]},sectionId:n,startIndex:a*r,tracking:pe,actionTracking:Ie,playSongFn:b}))})))},Ae=Object(l.memo)((function(e){var t,n,a,r=e.className,o=e.title,s=e.subtitle,u=e.songsPerCol,d=void 0===u?4:u,f=e.sectionId,E=void 0===f?"hSongRadio":f,O=e.isPlayAll,g=void 0!==O&&O,v=Object(m.e)(Q.getSongStation),h=Object(c.a)(v,2),j=h[0],I=h[1];Object(l.useEffect)((function(){I(3*d)}),[d]);var y=(null===(t=j.value)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.items)||[];if((null===(a=j.value)||void 0===a?void 0:a.data)&&!y.length)return null;return i.a.createElement(b.J,{className:k()("zm-song-station-section",r)},s&&i.a.createElement(b.M,{subtitle:!0},s),i.a.createElement(p.e,{title:o}),y.length?i.a.createElement(Ne,{items:y,sectionId:E,songsPerCol:d,isPlayAll:g}):i.a.createElement(Z,null,Array.from({length:3}).map((function(e,t){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(t)},i.a.createElement(je.a,{showTitle:!1,countItem:d,countSection:1,songItem:i.a.createElement(he.a,{size:60}),className:"song-station-loader"}))}))))})),Me=(n(1667),n(50));function Te(e){var t=e.chart;return i.a.createElement(b.e,null,i.a.createElement(b.e.Image,{className:"banner-image"},i.a.createElement(Me.a,{to:t.link},i.a.createElement(b.x,{src:t.cover}))))}var ke=i.a.memo((function(e){var t=e.items,n=void 0===t?[]:t;return i.a.createElement(b.i,{className:"week-chart-section"},i.a.createElement(b.h,{multiline:!0},n.map((function(e){return t=e,i.a.createElement(b.h.Column,{key:"weekChart.item.".concat(t.link),fullhd:4,widescreen:4,desktop:4,touch:4,tablet:4},i.a.createElement(Te,{chart:t}));var t}))))})),Se=n(12),Ce=n.n(Se),_e=n(22),Re=n(15),Le=n(653),Pe=n(1607),xe=n(415),De=n(128),we=n(138),Fe=n(275),Ye=n(16),Ge=n(54),Be=(n(1668),["gallery-item-selected","gallery-item-next","gallery-item-last","gallery-item-first","gallery-item-previous"]);var ze,He=function(e){var t=e.slide,n=e.sectionId,a=Object(l.useRef)(null),r=Object(o.b)(),s=Object(m.E)(),d=Object(c.a)(s,1)[0],f=Object(m.C)(),E=Object(c.a)(f,1)[0],O=Object(m.x)(),g=Object(c.a)(O,1)[0],v=Object(Fe.a)().playVideo;Object(m.d)(t.tracking,a);var j=Object(l.useMemo)((function(){return Object(Ge.b)(t.link)||Object(B.h)(t.link)}),[t.link]),p=Object(l.useCallback)((function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.e.Image,null,i.a.createElement(b.x,{src:t.banner})),i.a.createElement(b.e.Content,null,i.a.createElement(b.M,{renderAs:"div"},t.title),i.a.createElement(b.M,{subtitle:!0},t.description)))}),[t]),I=Object(l.useCallback)(function(){var e=Object(_e.a)(Ce.a.mark((function e(a){var c,l,i,o,s;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.link.includes("/bai-hat/")){e.next=16;break}return a.preventDefault(),e.prev=2,e.next=5,we.a.getInfo(t.encodeId);case 5:c=e.sent,(l=c.data).sectionId=n,i={song:l,playSongFn:function(){E.playSong(l,{forcePlay:!0})},addToQueueFn:function(e){return d.add(l,void 0,e)}},r(Object(Ye.o)({type:u.G.FROM_BANNER,option:i})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),e.t0&&B.q.error(e.t0.err,"Banner | Play song | encodeId | link | title | Error",t.encodeId,t.link,t.title,e.t0);case 16:t.link.includes("/video-clip/")&&(a.preventDefault(),(o={encodeId:t.encodeId}).sectionId=n,v(o)),(s=Object(B.n)(t.link))&&(a.preventDefault(),g.playLivestreamWithId(s,!0,"hSlider"));case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return i.a.createElement(b.e,{domRef:a},j?i.a.createElement(b.l,{renderAs:"a",href:t.link,target:"_blank"},p()):i.a.createElement(h.b,{title:t.title,onClick:I,to:{pathname:t.link,state:{sectionId:n}}},p()))},Ue=Object(l.memo)((function(e){var t=e.items,n=e.pause,a=void 0===n?"hover":n,r=e.interval,s=void 0===r?5e3:r,u=e.sectionId,m=Object(Le.a)().width,d=Object(l.useRef)(null),f=Object(l.useRef)([]),O=Object(l.useRef)(1),v=Object(l.useState)(!1),h=Object(c.a)(v,2),j=h[0],p=h[1],I=Object(l.useState)(y.Array.shuffle(t)),N=Object(c.a)(I,1)[0],A=Object(o.c)(g.j),M=Object(o.c)(E.c),T=Object(l.useState)(Be),k=Object(c.a)(T,2),S=k[0],C=k[1],_=Object(l.useState)(0),R=Object(c.a)(_,2),L=R[0],P=R[1],x=Object(l.useMemo)((function(){var e,t=Object(Re.a)(N);return M[De.b.BANNER_ZID]&&(t=y.Array.insert(t,M[De.b.BANNER_ZID],y.Number.random(0,t.length-1))),M[De.b.BANNER_MP3_ZID]&&(t=y.Array.insert(t,M[De.b.BANNER_MP3_ZID],3)),t.length>=Be.length?t:(e=t).concat.apply(e,Object(Re.a)(t))}),[N,M]);Object(l.useEffect)((function(){var e=x.length-S.length;if(e>0){var t=Object(Re.a)(Array(e)).map((function(){return"gallery-item-add"}));t=y.Array.insert(Object(Re.a)(S),t,3),C(t)}}),[x]);var D=Object(Pe.a)(S);Object(l.useEffect)((function(){w()}),[S]);var w=function(){for(var e=0;e<S.length;e++){var t=S[e],n=f.current[e];n&&(D&&n.classList.remove(D[e]),n.classList.add(t))}},F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(Re.a)(S);if(e){var n=t.pop();n&&t.unshift(n)}else{var a=t.shift();a&&t.push(a)}C(t)},Y=Object(l.useCallback)((function(){"hover"===a&&p(!0)}),[a]),G=Object(l.useCallback)((function(){p(!1)}),[a]);return Object(l.useEffect)((function(){return j||(O.current=setInterval((function(){F(!0)}),s)),function(){clearInterval(O.current)}}),[j,F,s]),Object(l.useEffect)((function(){var e,t=null===(e=f.current[0])||void 0===e?void 0:e.firstElementChild;if(t&&d.current){var n=t.getBoundingClientRect().height;d.current.style.height=n+"px",P(n)}}),[m,L,A]),i.a.createElement(b.i,null,i.a.createElement(b.l,{className:"gallery"},i.a.createElement(b.l,{className:"gallery-container",domRef:d,onMouseEnter:Y,onMouseLeave:G},i.a.createElement(b.l,{className:"zm-gallery-prev",onClick:function(){return F(!1)}},i.a.createElement(xe.a,{type:"prev",classNameIcon:"ic-go-left",enable:!0})),x.map((function(e,t){return i.a.createElement(b.l,{className:"gallery-item",key:"".concat(t,"-").concat(e.encodeId),domRef:function(e){return f.current[t]=e}},i.a.createElement(He,{slide:e,sectionId:u}))})),i.a.createElement(b.l,{className:"zm-gallery-next",onClick:function(){return F(!0)}},i.a.createElement(xe.a,{type:"next",classNameIcon:"ic-go-right",enable:!0})))))})),Ve=(ze={},Object(r.a)(ze,u.X.WEEK_CHART,ke),Object(r.a)(ze,u.X.BANNER,Ue),Object(r.a)(ze,u.X.SONG,D.g),Object(r.a)(ze,u.X.MIX,x),Object(r.a)(ze,u.X.RECENT,ge),Object(r.a)(ze,u.X.NONLOGGED_RECENT,se),Object(r.a)(ze,u.X.EFFECT_PLAYLIST,S),Object(r.a)(ze,u.X.GENRE_MOOD_HOME,W),Object(r.a)(ze,u.X.NEW_RELEASE,le),Object(r.a)(ze,u.X.SONG_STATION,Ae),ze),Xe=[u.X.PLAYLIST,u.X.EFFECT_PLAYLIST,u.X.MIX];var Ke=Object(l.memo)((function(){var e=Object(o.b)(),t=Object(o.c)(f.n),n=Object(o.c)(G.c),r=Object(o.c)(E.a),b=Object(o.c)(Y.a),O=Object(o.c)(f.u),g=Object(l.useRef)(t);Object(H.g)();var v=Object(l.useCallback)((function(e){return new Promise((function(t){Q.get(e,30,O).then((function(e){t(e)})).catch((function(e){e&&B.q.error(e.err,"getHomePage | error ",e)}))}))}),[O]),h=Object(m.v)(v,{rootMargin:"300px"}),j=Object(c.a)(h,3),I=j[0],y=j[1],N=j[2];Object(l.useEffect)((function(){var t=document.getElementById(u.p.SECTION_MAIN_LAYOUT),n=void 0,a=void 0;return b&&(a=setInterval((function(){var c=document.getElementsByClassName(b)[0];c&&(clearInterval(a),n=setTimeout((function(){Object(z.scrollTo)(t,c.offsetTop,500),e(Object(F.d)())}),100))}),100)),function(){a&&clearInterval(a),n&&clearTimeout(n)}}),[b]),Object(l.useEffect)((function(){g.current!=t&&(N.refresh(),g.current=t)}),[t]),Object(l.useEffect)((function(){y.isFetching||n.path!==d.a.HOME||N.refresh()}),[n]),Object(l.useEffect)((function(){return r&&e(Object(w.d)()),function(){r&&e(Object(w.c)())}}),[r]);var A=Object(l.useMemo)((function(){return y.items.filter((function(e){var t=e.items,n=e.sectionType;return!(t&&t.length<5&&Xe.includes(n))})).map((function(e){var t=e.items,n=void 0===t?[]:t,c=e.sectionType,r=e.options,l=void 0===r?{}:r;return c===u.X.PLAYLIST&&!l.autoSlider&&n.length>5?Object(a.a)(Object(a.a)({},e),{},{items:n.slice(0,5)}):e}))}),[y.items]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{error:y.err,loading:y.isFetching,currentPage:y.currentPage,className:"home-page-content"},Object(p.f)(A,Ve,"pad-0"),y.isFetching?i.a.createElement(s.a,null):null,y.hasMore&&!y.isFetching&&i.a.createElement("div",{ref:I,style:{marginTop:"-300px",height:"1px"}}),!y.hasMore&&i.a.createElement(de,null)))}));t.default=Ke}}]);