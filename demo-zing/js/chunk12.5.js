(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[24],{1639:function(e,t,a){},1644:function(e,t,a){"use strict";var n=a(3),l=a(8),c=a(6),o=a.n(c),r=a(0),i=a.n(r),s=a(66),u=a(1),m=a(129),d=a(2),v=a(10),f=a(175),p=a(45),b=a(137),h=a(460),E=a(311);function g(e){var t=i.a.createElement(u.l,{className:"prefix-chart-promote"},i.a.createElement(u.l,{renderAs:"span"},"G\u1ee3i \xfd"));return i.a.createElement(p.l,Object.assign({},e,{songLeftBefore:t}))}var O=function(e){var t=e.item,a=Object(v.C)(),n=Object(l.a)(a,1)[0];if(!t)return null;return i.a.createElement(p.m,{sectionId:"chart-promote",items:[t],SongItemComponent:g,SongItemProps:{className:"bor-b-1",playFn:function(e){n.playSong(e)}}})};a(1639);t.a=i.a.memo((function(e){var t=e.chartData,a=e.songs,c=e.isExpand,g=void 0===c||c,j=e.loading,y=void 0!==j&&j,I=e.minItems,N=void 0===I?10:I,S=e.sectionId,k=e.setExpand,C=e.promote,T=Object(r.useRef)(),w=Object(v.C)(),R=Object(l.a)(w,1)[0],M=g?a:a.slice(0,N);return i.a.createElement(u.i,{className:o()("rt-chart-section")},i.a.createElement(u.i,{className:"chart-wrapper"},i.a.createElement(u.l,{className:"section-header"},i.a.createElement(u.l,{className:"chart-title",domRef:T},i.a.createElement(u.M,{title:"24H"},"#zingchart"),i.a.createElement(u.r,{icon:i.a.createElement(s.n,null),onClick:function(e){e.stopPropagation(),e.preventDefault(),R.playPlaylistWithId(d.sb,S,!0)}}))),i.a.createElement(h.a,{chartData:t,loading:y})),C&&i.a.createElement(O,{item:C}),i.a.createElement(p.m,{items:M,sectionId:S,playlist:b.a,SongItemComponent:E.a,playSongFn:function(e,t){e&&(e.sectionId=S,f.PlaylistService.getDetail(d.sb).then((function(l){l.data.sectionId=S,l.data.playItemMode=d.T.RANDOM,R.playSongInPlaylist(e,Object(n.a)({playlist:l.data,items:a},t))})).catch((function(){R.playSong(e)})))},SongItemProps:{className:"bor-b-1"},className:"mar-b-20"}),y&&i.a.createElement(m.a,{showTitle:!1}),!g&&i.a.createElement(u.l,{className:"is-center"},i.a.createElement(u.d,{className:"show-all is-outlined",onClick:k},"Xem top 100")))}))},1777:function(e,t,a){},1796:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a(0),c=a.n(l),o=a(5),r=a(60),i=a(1566),s=a(1),u=a(2),m=a(193),d=a(17),v=a(158),f=a(85),p=a(194),b=a(28),h=a(1644),E=a(441),g=a(50),O=a(7),j=a(3),y=a(6),I=a.n(y),N=a(150),S=a(45),k=a(69);var C,T=Object(l.memo)((function(e){var t=e.order,a=void 0===t?1:t,n=e.song,l=c.a.createElement(S.f,{type:k.a.SORT,rankNumber:a,className:"mar-r-15",rankingStatus:n.rakingStatus});return c.a.createElement(S.l,Object.assign({},e,{songLeftBefore:l,buttonsType:S.e,songMiddle:null,className:I()("week-chart-song hide-right")}))})),w=a(10),R=a(175);!function(e){e.vn="Vi\u1ec7t Nam",e.us="US-UK",e.korea="K-Pop"}(C||(C={}));var M=Object(l.memo)((function(e){var t=e.data,a=e.sectionId,o=t.items,r=void 0===o?[]:o,i=t.country,u=t.link,m=t.playlistId,d=Object(l.useMemo)((function(){return r.slice(0,5)}),[r]),v=Object(w.C)(),f=Object(n.a)(v,1)[0],p=Object(l.useCallback)((function(e,t){e&&(e.sectionId=a,R.PlaylistService.getDetail(m).then((function(n){var l;n.data.sectionId=a,f.playSongInPlaylist(e,Object(j.a)({playlist:n.data,items:(null===(l=n.data.song)||void 0===l?void 0:l.items)||[e]},t))})).catch((function(){f.playSong(e)})))}),[m,a]);return d.length?c.a.createElement(s.h.Column,{fullhd:4,widescreen:4,desktop:12,touch:12,tablet:12},c.a.createElement(s.l,{className:I()("week-chart-box",i)},c.a.createElement(s.l,{className:I()("box-header")},c.a.createElement(g.a,{to:u},C[i]),c.a.createElement(s.r,{icon:"play",onClick:function(){f.playPlaylistWithId(m,a,!0)}})),c.a.createElement(N.a,{items:d,SongItemComponent:T,className:"mar-b-15",playSongFn:p}),c.a.createElement(s.l,{className:"is-center"},c.a.createElement(g.a,{to:t.link,className:I()("show-all")},"Xem t\u1ea5t c\u1ea3")))):null}));a(1777);var x=Object(l.memo)((function(e){var t,a=e.charts,n=void 0===a?[]:a;return n?(O.q.debug("weekChart: ",n),c.a.createElement(s.i,{className:"week-chart-section"},c.a.createElement(s.l,{className:"bg-blur"}),c.a.createElement(s.l,{className:"bg-alpha"}),c.a.createElement(s.l,{className:"section-header"},c.a.createElement(g.a,{to:null===(t=n[0])||void 0===t?void 0:t.link,className:"title"},"B\u1ea3ng X\u1ebfp H\u1ea1ng Tu\u1ea7n")),c.a.createElement(s.h,null,n.map((function(e){return c.a.createElement(M,{key:e.chartId,className:e.country,sectionId:e.sectionId,data:e})}))))):null}));t.default=Object(l.memo)((function(){var e,t,a,g,O,j=Object(o.c)(v.c),y=Object(i.a)((function(){return E.a.getHome()}),[j]),I=Object(l.useState)({}),N=Object(n.a)(I,2),S=N[0],k=N[1],C=Object(o.c)(d.c),T=Object(r.h)(),w=Object(l.useRef)(!1),R=Object(l.useState)(!1),M=Object(n.a)(R,2),P=M[0],B=M[1];Object(l.useEffect)((function(){var e=(T.state||{}).focus;w.current=Boolean(e),w.current&&B(!0)}),[T.state]);var A=Object(l.useRef)(document.getElementById(u.p.SECTION_MAIN_LAYOUT)),D=Object(l.useMemo)((function(){var e,t,a=(null===(e=y.value)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.weekChart)||{};return Object.keys(a).map((function(e){return a[e]}))||[]}),[null===(e=y.value)||void 0===e?void 0:e.data]),z=Object(l.useMemo)((function(){var e,t,a;return(null===(e=y.value)||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.RTChart)||void 0===a?void 0:a.items)||[]}),[null===(t=y.value)||void 0===t?void 0:t.data]);Object(l.useEffect)((function(){var e;if(null===(e=y.value)||void 0===e?void 0:e.data){var t,a,n,l,c,o=(null===(t=y.value.data)||void 0===t||null===(a=t.RTChart)||void 0===a?void 0:a.chart)||{},r=(null===(n=y.value.data)||void 0===n||null===(l=n.RTChart)||void 0===l?void 0:l.items)||[],i=[],s={};if(Object.entries(o).length)Object.keys(o.items).forEach((function(e,t){var a,n=null===(a=o.items[e])||void 0===a?void 0:a.map((function(e){return e.counter}));i.push({label:e,data:n,song:r[t]})})),s={labels:null===o||void 0===o||null===(c=o.times)||void 0===c?void 0:c.map((function(e){return e.hour})),datasets:i,minScore:o.minScore,maxScore:o.maxScore,totalScore:o.totalScore};k(s)}}),[y.value]),Object(l.useEffect)((function(){if(C&&w.current&&z.length){var e=setTimeout((function(){var e=document.getElementsByClassName("media-item active")[0];if(e){var t=e.getBoundingClientRect().y,a=document.getElementById(u.p.SECTION_MAIN_LAYOUT);Object(f.scrollTo)(a,t+a.scrollTop-140,500),w.current=!1}}),1e3);return function(){return clearTimeout(e)}}}),[C,z]),Object(p.d)();var L=Object(l.useMemo)((function(){var e;if(null===(e=y.value)||void 0===e?void 0:e.data){var t,a=((null===(t=y.value.data)||void 0===t?void 0:t.RTChart)||{}).promotes,n=void 0===a?[]:a;if(n.length>0)return b.Array.shuffle(n)[0]}return null}),[y.value]);return c.a.createElement(m.a,{error:y.error},c.a.createElement(h.a,{chartData:S,songs:z,isExpand:P,setExpand:B,sectionId:null===y||void 0===y||null===(a=y.value)||void 0===a||null===(g=a.data)||void 0===g||null===(O=g.RTChart)||void 0===O?void 0:O.sectionId,loading:y.loading,promote:L}),c.a.createElement(s.w,{root:A.current,rootMargin:"60px"},c.a.createElement(x,{charts:D})))}))}}]);